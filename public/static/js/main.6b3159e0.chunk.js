(this.webpackJsonpfrontedc4=this.webpackJsonpfrontedc4||[]).push([[0],{110:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(50),r=a.n(c),s=(a(63),a(64),a(65),a(2)),i=a.n(s),l=a(6),o=a(5),d="http://54.233.112.2:8000",m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return a?fetch(d+e,{method:t,headers:{"content-type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).catch((function(t){return console.log(d+e+":error "+t)})):fetch(d+e).then((function(e){return e.json()})).catch((function(t){return console.log(d+e+":error "+t)}))},u=a(13),j="Auth: Login",b="Auth Logout",x=function(e,t){switch(t.type){case j:return Object(u.a)(Object(u.a)(Object(u.a)({},e),t.payload),{},{isAuthenticated:!0});case b:return{id:null,name:null,email:null,isAuthenticated:!1};default:return e}},h=a(0),O=Object(n.createContext)(null),p={id:null,name:null,email:null,isAuthenticated:!1},f=function(e){var t=e.children,a=Object(n.useReducer)(x,p),c=Object(o.a)(a,2),r=c[0],s=c[1],d=function(){var e=Object(l.a)(i.a.mark((function e(t,a,n){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/user/login","POST",{email:t,password:a});case 2:if(!(c=e.sent).errors&&c.ok){e.next=6;break}return n(!0),e.abrupt("return");case 6:n(!1),r=c.data,localStorage.setItem("keyID",btoa(JSON.stringify({id:r._id}))),s({type:j,payload:{id:r._id,name:r.name,email:r.email}});case 10:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),u=function(){var e=Object(l.a)(i.a.mark((function e(t,a,n,c){var r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/user/create","POST",{name:t,email:a,password:n});case 2:!(r=e.sent).errors&&r.ok||c(!0),c(!1),l=r.data,localStorage.setItem("keyID",btoa(JSON.stringify({id:l._id}))),s({type:j,payload:{id:l._id,name:l.name,email:l.email}});case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,c){return e.apply(this,arguments)}}();return Object(h.jsx)(O.Provider,{value:{auth:r,login:d,logout:function(){localStorage.removeItem("keyID"),s({type:b})},createUser:u,dispatch:s},children:t})},v=a(58),g=Object(n.createContext)(null),N=function(e){var t=e.children,a=function(e){var t=Object(n.useState)(null),a=Object(o.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(!1),i=Object(o.a)(s,2),l=i[0],d=i[1],m=Object(n.useCallback)((function(){var t=JSON.parse(atob(localStorage.getItem("keyID")))||null,a=Object(v.a)(e,{transports:["websocket"],forceNew:!0,query:{idsocket:t.id}});r(a)}),[e]),u=Object(n.useCallback)((function(){null===c||void 0===c||c.disconnect()}),[c]);return Object(n.useEffect)((function(){null===c||void 0===c||c.on("connect",(function(){d(!0)}))}),[c]),Object(n.useEffect)((function(){d(null===c||void 0===c?void 0:c.connected)}),[c]),Object(n.useEffect)((function(){null===c||void 0===c||c.on("disconnect",(function(){d(!1)}))}),[c]),{socket:c,online:l,conectarSocket:m,desconectarSocket:u}}(d),c=a.socket,r=a.online,s=a.conectarSocket,i=a.desconectarSocket,l=Object(n.useContext)(O).auth.isAuthenticated;return Object(n.useEffect)((function(){l&&s()}),[l,s]),Object(n.useEffect)((function(){l||i()}),[l,i]),Object(h.jsx)(g.Provider,{value:{socket:c,online:r},children:t})},A=g,y=a(12),S=a(3),C=a.p+"static/media/login.13ad524f.svg",k=a(32),w=function(e){var t=Object(n.useState)(e),a=Object(o.a)(t,2),c=a[0],r=a[1];return{value:c,HandleInputChange:function(e){r(Object(u.a)(Object(u.a)({},c),{},Object(k.a)({},e.target.name,e.target.value)))},reset:function(){r(e)}}},R=function(){var e=Object(n.useContext)(O).login,t=w({email:"",password:""}),a=t.value,c=t.HandleInputChange,r=Object(n.useState)(""),s=Object(o.a)(r,2),d=s[0],m=s[1],u=a.email,j=a.password,b=function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e(u,j,(function(e){m(e?"Error en la validacion !!!":"")}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"bg-custom container-fluid vh100 d-flex justify-content-center align-items-center",children:[Object(h.jsx)("div",{className:"card-auth shadow d-flex  justify-content-center align-items-center",children:Object(h.jsx)("img",{src:C,className:"img-medium",alt:"login"})}),Object(h.jsx)("div",{className:"card-auth  shadow d-flex justify-content-center align-items-center",children:Object(h.jsxs)("form",{className:"row m-0  img-medium rounded",onSubmit:b,children:[Object(h.jsx)("h4",{className:"text-center",children:"Login"}),Object(h.jsx)("div",{className:"col-12 col-md-10 mx-auto my-2",children:Object(h.jsx)("input",{name:"email",value:u,onChange:c,type:"email",className:"form-control",required:!0,placeholder:"email..."})}),Object(h.jsx)("div",{className:"col-12 col-md-10 mx-auto my-2",children:Object(h.jsx)("input",{name:"password",value:j,onChange:c,type:"password",className:"form-control",required:!0,placeholder:"password..."})}),Object(h.jsx)("div",{className:"col-md-10 mx-auto my-2",children:Object(h.jsx)(y.b,{to:"/register",className:"text-white",children:"create new account?"})}),0!==d.length&&Object(h.jsx)("div",{className:"text-center text-warning",children:Object(h.jsx)("small",{children:d})}),Object(h.jsx)("div",{className:"col-md-10 mx-auto my-2",children:Object(h.jsx)("button",{className:"btn btn-primary",children:"Login"})})]})})]})},D=a.p+"static/media/register.6bdc34eb.svg",E=function(){var e=Object(n.useContext)(O).createUser,t=w({name:"",email:"",password:""}),a=t.value,c=t.HandleInputChange,r=Object(n.useState)(""),s=Object(o.a)(r,2),d=s[0],m=s[1],u=a.name,j=a.email,b=a.password,x=function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,e(u,j,b,(function(e){m(e?"Error en la validacion de los datos !!!":"")}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"bg-custom container-fluid vh100 d-flex justify-content-center align-items-center",children:[Object(h.jsx)("div",{className:"card-auth shadow d-flex  justify-content-center align-items-center",children:Object(h.jsx)("img",{src:D,className:"img-medium",alt:"register"})}),Object(h.jsx)("div",{className:"card-auth  shadow d-flex justify-content-center align-items-center",children:Object(h.jsxs)("form",{className:"row m-0  img-medium rounded",onSubmit:x,children:[Object(h.jsx)("h4",{className:"text-center",children:"Register"}),Object(h.jsx)("div",{className:"col-12 col-md-10 mx-auto my-2",children:Object(h.jsx)("input",{name:"name",value:u,onChange:c,type:"text",className:"form-control",required:!0,placeholder:"name..."})}),Object(h.jsx)("div",{className:"col-12 col-md-10 mx-auto my-2",children:Object(h.jsx)("input",{name:"email",value:j,onChange:c,type:"email",className:"form-control",required:!0,placeholder:"email..."})}),Object(h.jsx)("div",{className:"col-12 col-md-10 mx-auto my-2",children:Object(h.jsx)("input",{name:"password",value:b,onChange:c,type:"password",className:"form-control",required:!0,placeholder:"password..."})}),Object(h.jsx)("div",{className:"col-md-10 mx-auto my-2",children:Object(h.jsx)(y.b,{to:"/login",className:"text-white ",children:"sing In"})}),0!==d.length&&Object(h.jsx)("div",{className:"text-center text-warning",children:Object(h.jsx)("small",{children:d})}),Object(h.jsx)("div",{className:"col-md-10 mx-auto my-2",children:Object(h.jsx)("button",{className:"btn btn-primary",children:"Register"})})]})})]})},J=a(7),I=a(41),L=a.n(I),U=a(56),P=a(57),H="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANIAAACWCAMAAACcjiYKAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA8UExURYW78IXe/Pzy+Ze94rzU7Hio2N3p9iElKX+w4f7//+z//8a78evm8YW7+d/Z8ND0/7zu/t/7/4W794K26rG8tbMAAARLSURBVHja7Z3rmqMgDIYFDyvKim3v/14XkoDYg9OZcZ4R9+NHVUTkJSGC8WmqP6dLFZCA9OtItmsKS92whWSbvm37wlLb1o15gaSbtr/dquLSzWM1T5G6vi+QR6jaenhE8iKqCk59390jdWUTBaZhjTSUTuSZ6jVSXTxRVWU2ogpqdysfqW9NhnQGIXmmZkHSZxBSPpoqr3dnIPJPpyEhNafQO28guoRUnwQpDSYgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEAC0kGRlDGzMWaiPWNsdb0Y63dGf6j5PG3LQqI0ys7okVKyclqXhkQNH8PB38FMHklzrjM6iCzkjoUhjdJo/2sISRhnoymL9bJApLAjUjoLkmN9WyPRQYEWj5FmkccKKVqPMsdSsHQ6CiYhMdNYlJQwewASkIAEpF9HChOXMa0PnqRrt+y7DyfWeen0/JpePdimjWee/gZSAHG87NGvzr+bnpX+CtJG772JJJU/u0epSPn1jqfPswk7YYYd52uayinTiYpKQacHY1VaNflitBQMx7Phizsq6e80rNa7hCS10Pbi51RacL6JxBXxWLjQFG2iaVrID+dFkpaRqMBI14RGubyvubQONFyNCrh8BS2tFFU9kZIrmunG2/HMcKZ5o90Bya6UITQ31M0NsUtBQmJFZbn4DJdPTUMhOnONPV6lKwjVF+D8Oayzpng7uks4oYxUsJ+UuKXzPRLpkiBNgiTvFlb3DqVlraFjZ8Qr6Nj/cL4SJL4dDyvHiuH0fmPJSyt1fo7kVUYvUuIGzlE4D0hRbO8juQUp5LMN3s3iPVU8xU+uOylNL5Ai7KJ4a6RNxfMFutirOz2XVuM1mgFF9mqNRAXD8Fjdmw2K5g4IVfiMe6RN8xCaovcw4vnsIRnxMdotXopb1vLYQB5e0dqqqIazGH6qKxrxO6QNIx6tyR5Ih0h57xSPJMo6LSzfQvqJdx5fexs9VfHt7bemrVgvAQlIQAISkIAEJCABCUhAAhKQgAQkIAHpvSQfo9kPi2Ul1Ljt6ft1JPY3fOLLTvUjLwj3RvpUrxeCJP7M9TfGvA1uFHIOOX2JDl6bv8oX9+/RkKLzYvHRWPI1/B00+WLZZ8YeGcW+2Qf37wGRxMGQvGbyRj76YtkNSF6+8akX7nhI8XPwib6WXLx9yX+0II9V5o89KtL1YkkayQIY/R6SOyySki8ecrPm7pGKUjxlxA8r7uNkLvw2Q4rmYXrwxx4LaZk9xG+LZ9lGI54ULw4yo9dG/FhIn0hO/2TtQAIS1ktAAhKQgAQkIAEJSEACEpCABCQgAQlIRSGd8I/sTxNuwCQkc76gECfRvHY6XYCVfhUG5wRiurXdOv5S+XY8D/5FSLYvm+mWh1+SwF8lhzKjYGbmMTybrouNlHW7DzmX4gJOfYlR9EIMvbp7Gb2xq/u2uNQ33XaMzaErLBlEQgUSkID0XyP9A78uuS1Pt2J/AAAAAElFTkSuQmCC",B="data:image/png;base64,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",Q="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARIAAAAfCAMAAAAcALJ7AAAAclBMVEX///9wcHC4uLj//9GecHCe0v/b29twcJ7R////0p7t7e3ouYfo//9whrrRoHBwoNGHuei6hnC66f///+jJycn/6bqecIdwcIeCgoKHcHCVlpWHcIe66dHR/9GHubq66eiecJ66uYeeubpwoLqHcJ6eoHB7Sj+pAAACaklEQVRo3u2ZDW/iMAyGHbYM2m4NLWWM3bbbff3/v3h+bYPRoYnbRluU9RWQxEmQ/NRO0pYmTboYXV0HKJ4YVh+OKBJPmy8oUwEJtKT/VhES5Sy93EXYtKAjzlZhV6p1/ickjhKu/EBHwd3zZ5lWYwSKn9uQT9RYBojLGi1FkBJE4LGYo/Wjw5HUmnNa5hM6hqSCq0taNfMFSunYtDAzibhDFpnX3S0SB9PWW54KQx2SlJSHHEkVDsOC1lv4qAMMCRuEmSHhOSQG7iTpPa9uShpFnjhAIjCYRgjpGAkqjgRlv0i6x25gKI4EEMxDtz5rniQMOJE4PSGhhzAGFN+EtcYOarQkX14dyX793TwdLq99IelCGByKI4lWhfuVkNEyWhj5JoxcARLfhPtCgjAxKBeq4Q+sCJOLhjIsEg+TYyhmvLGN6Ws1OUwcyoQEKsNeD45kpjJD+bWasz2QjiZB5ThAisD76317tJZGKU+b/V/o7JqNEyEF7yOfQuI951Y5NBBHgjMazur4JTQS/z7Kua361ejjpQpNcXzVYICc016uI4hSdXfbB5LZKEA8SlCuv7WrZkn8xWF01SSqwApPCYAH8CKs0iMn+qiQYh9RUo4CxJHALaIqoWl5gIvPH9TRFFIaFszueyO3zJHqROvfiz6QdKMAcSR2r5PA4BgJhw9SBUhg4QlP962OKvjWOGk1FxmSnUvvRYK5dcwSCdYQ6N2JQ/XL6yJLJFhE4bSgqdM/SN5eXvUdRn5IqLYn8kvdhG1PdSRvbcKWPTki+aCuBMnrYkICIcF0LS4S5Ybkg3cneIxvbzH8X3rVX8rvK1eVMnxnAAAAAElFTkSuQmCC",K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANIAAACdCAMAAAD2SdbJAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABCUExURZmZmaWlpc7q/Oz9/////4qKiuPj4yElKZGRkcXFxf3r0P3/9c+ZmZqZ15nG5f/45uXHme/YmZmZx5nY79bV17u7u/UbXZMAAARxSURBVHja7d2LdqIwEAbgGC6LCYIKvv+rbuaSAF5adyutoX/O6aIClc9MImHYxvzZXDEggQQSSL+V5Md9ZmWsPyL5vamqJrdSNZf6EWkf1pscS1Nd/D1Sv6vyBJGpaepbUt1kC5KKGq9Jfd6ihUlJu8xFZOoXpH1lsi/Nbk7yTZM/yVT1jLTfgihVE5PMJkim8onkK7MN0phI40ZIzSWRttGUUmMCCSSQQAIJJJBAAgkkkEACCSSQQAIJJJBAAultSYfCj2VZnozpwqJ0xtiyL0p/DE/7ltbLMisSSUrfygN/DKRUnK5+vWllkgsVFCihnItQXaGW2o44Vn/CP6fMAu8YKEQ6FxyBlisnvDAwSasrL1LLJHqgteTk1exJIrkluRx7PCENUh9XpNRp5EiiGHOxYhKJTa8X4asWJJBAAumXkTodJ1x/qdhwzj0+e17N37P3zh4e/Ibu+TOn/yGRxNKgYJifRtPL9tmhQkd7novbzR//Brsy6VCcrt9mCCcFT5Nkw+723OEnSekNaNxAGh3a1eExv33YjIcU4Xnn6zBQ0g3l+OKDgVSdjg757JyHHhxmtFvYw0rM2dUDLx4e4+gItZao/g4UUeGxdbK+K91sw9iU3LR73w4sl9CljWS3XsYkHKark6R99yLhOIyBF9566ItQQy4FDB/SQCGVXpVaPTGHXoxWfnqSOO50vYT5+iQ5LKfBTw4lDVQ71h2Kox64S/V6NeKT8a0/SiRrePVtumSR+qFvJNFna+OHH0mdH4vj4KhSLDcyN+sjr3tyR7vqGm4ztpfKWXSt30LSOAmMm8ALXXP4pH3h5EhIK8fm24XFaBjafgrGvuVacj9B4g6AD2nRPbCPwpFbtayKgcfPYg3IhSHeXC4hWR4tal0r5bsDLzbv2InzwRym/kmONsSS1UYhHcppOhvQa3j6hSutLl6i4HU/0pZeUaZO8JNv53xInW9/nvTSa29PXm5d97QV4yWQQAIJJJBAAgkkkEACCSSQQAIJJJDulnPx3L1o8+txh5RPfFMSHeuh+IdrfK/nrEFKF/I3ROLAipf+D8ul7YvyZB0vS8mNOWbNk7Nfvtl1BZJmiKxvJX/kUkJWsixO0zWSgKIfer0rJTm7yEO9DymmZWPDGqZErJA4U0P3vDJJ9oz5vy9nEVYhpbSs5t1jTtNqst/Kje8nJUmT6jQP9Y4kN0/Lhvai+dzPSMPbkmaZ3NStpcCLpEeB95Ykbj4xLcvLwbdxmUjaPcQuInUPb0eazh5iWrbT28FiJ54CL97lUPbLTvy9SP9Q7Ar/HwYkkDBeAgkkkEACCSSQQAIJJJBAAgkkkH4HadwIqZr+6nu9lT9kv59NN7CRGRTqaVKI3TbmuajKibSNKRR0AgWdM2YLc3c0iwlWQjU1m6mkOFnRJf/Jisz1LFm59xCzqb8iqdxlPWFRY+o7M85dMp6erdr5u5Po1bsqx5pqmsqMD2dvrC+myq40l/HjOTZ9nVnxmAkVJJBAAgkkkED6YvkLjkzd1iQhI78AAAAASUVORK5CYII=",Y=function(e){var t=e.show,a=e.HandleTypeModal,c=e.HandleTypeDiagram,r=Object(n.useState)("Container"),s=Object(o.a)(r,2),i=s[0],l=s[1];return Object(h.jsxs)("div",{className:"flex-shrink-0 p-3 bg-dark vh100 sidebar",style:t?{left:"0"}:{left:"-300px"},children:[Object(h.jsx)(y.b,{to:"/",className:"d-block text-center text-decoration-none fs-4 text-white pointer",children:"C4 Diagramas"}),Object(h.jsx)("hr",{className:"border border-white"}),Object(h.jsxs)("select",{className:"form-select",defaultValue:"Container",onChange:function(e){c(e.target.value),l(e.target.value)},children:[Object(h.jsx)("option",{value:"Container",children:"Container C4"}),Object(h.jsx)("option",{value:"Component",children:"Componente C4"})]}),"Container"===i?Object(h.jsxs)("ul",{className:"list-unstyled ps-0 my-3 content-sidebar overflow-auto sidebar-scroll",children:[Object(h.jsxs)("li",{className:"my-1 text-center",children:[Object(h.jsx)("small",{className:"text-white",children:"Person"}),Object(h.jsx)("p",{onClick:function(){return a("person")},className:"text-decoration-none d-block  text-center text-white pointer","data-bs-toggle":"modal","data-bs-target":"#modal-create",children:Object(h.jsx)("img",{src:"data:image/png;base64,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",height:30,alt:"person"})})]}),Object(h.jsxs)("li",{className:"my-1 text-center",children:[Object(h.jsx)("small",{className:"text-white",children:"Container"}),Object(h.jsx)("p",{onClick:function(){return a("container")},className:"text-decoration-none d-block  text-center text-white pointer","data-bs-toggle":"modal","data-bs-target":"#modal-create",children:Object(h.jsx)("img",{src:H,height:30,alt:"container"})})]}),Object(h.jsxs)("li",{className:"my-1 text-center",children:[Object(h.jsx)("small",{className:"text-white",children:"System_Ext"}),Object(h.jsx)("p",{onClick:function(){return a("system_extern")},className:"text-decoration-none d-block  text-center text-white pointer","data-bs-toggle":"modal","data-bs-target":"#modal-create",children:Object(h.jsx)("img",{src:K,height:30,alt:"system_extern"})})]}),Object(h.jsxs)("li",{className:"my-1 text-center",children:[Object(h.jsx)("small",{className:"text-white",children:"containerDB"}),Object(h.jsx)("p",{onClick:function(){return a("containerDB")},className:"text-decoration-none d-block  text-center text-white pointer","data-bs-toggle":"modal","data-bs-target":"#modal-create",children:Object(h.jsx)("img",{src:B,height:30,alt:"containerDB"})})]}),Object(h.jsxs)("li",{className:"my-1 text-center",children:[Object(h.jsx)("small",{className:"text-white",children:"DrawRelation"}),Object(h.jsx)("p",{onClick:function(){return a("Relation")},className:"text-decoration-none d-block p-2 text-center text-white pointer","data-bs-toggle":"modal","data-bs-target":"#modal-create",children:Object(h.jsx)("img",{src:Q,height:20,alt:"Relation"})})]}),Object(h.jsx)("li",{className:"my-1 text-center",children:Object(h.jsx)("p",{onClick:function(){return a("SystemBoundary")},className:"text-decoration-none d-block p-2 text-center text-white pointer","data-bs-toggle":"modal","data-bs-target":"#modal-create",children:Object(h.jsx)("small",{className:"text-white",children:"DrawSystemBoundary"})})}),Object(h.jsx)("li",{className:"my-1 text-center",children:Object(h.jsx)("p",{onClick:function(){return a("Eliminar")},className:"text-decoration-none d-block p-2 text-center text-white pointer","data-bs-toggle":"modal","data-bs-target":"#modal-create",children:Object(h.jsx)("small",{className:"text-white",children:"Eliminar"})})})]}):Object(h.jsxs)("ul",{className:"list-unstyled ps-0 my-3",children:[Object(h.jsxs)("li",{className:"my-1 text-center",children:[Object(h.jsx)("small",{className:"text-white",children:"Container"}),Object(h.jsx)("p",{onClick:function(){return a("container")},className:"text-decoration-none d-block  text-center text-white pointer","data-bs-toggle":"modal","data-bs-target":"#modal-create",children:Object(h.jsx)("img",{src:H,height:30,alt:"container"})})]}),Object(h.jsxs)("li",{className:"my-1 text-center",children:[Object(h.jsx)("small",{className:"text-white",children:"containerDB"}),Object(h.jsx)("p",{onClick:function(){return a("containerDB")},className:"text-decoration-none d-block  text-center text-white pointer","data-bs-toggle":"modal","data-bs-target":"#modal-create",children:Object(h.jsx)("img",{src:B,height:30,alt:"containerDB"})})]}),Object(h.jsxs)("li",{className:"my-1 text-center",children:[Object(h.jsx)("small",{className:"text-white",children:"System_Ext"}),Object(h.jsx)("p",{onClick:function(){return a("system_extern")},className:"text-decoration-none d-block  text-center text-white pointer","data-bs-toggle":"modal","data-bs-target":"#modal-create",children:Object(h.jsx)("img",{src:K,height:30,alt:"system_extern"})})]}),Object(h.jsxs)("li",{className:"my-1 text-center",children:[Object(h.jsx)("small",{className:"text-white",children:"Component"}),Object(h.jsx)("p",{onClick:function(){return a("component")},className:"text-decoration-none d-block  text-center text-white pointer","data-bs-toggle":"modal","data-bs-target":"#modal-create",children:Object(h.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANIAAACWCAMAAACcjiYKAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABFUExURUON1f/08kON7UCGy////jx/wM3f7yElKUSGx5/A4EPK9mecz8Hy/+H//+HU1ZiN1vP//Zji/M7A1vPi6LaN1uHo9Y202oEy1wIAAASVSURBVHja7d3rmpsgEAZgTdASNa7H3P+ldmYY0OjGdnPoI/bzR7MqMb6ACI5PSX4dbklAAgkkkP6ONOaXyJZ83CKNN5vZ2JYsKy/NA1Jzy+w5iXA5W3v5lpTbOEGCyspxTbpk0YJ4sXZckvK4RXOTkkYbuYhM5T2ptEn0i28jEq128Yuo4WtmpPJ8AJIvJiE12SFI53IiHaLe8d1pDKSbPQQpyfJAOsal5C8mkEACCSSQQAIJJJBAAgkkkEACCSSQQAIJJJD2SyqatDXGdPQXfZg6OVVmbIwZaDVN3NY+NhJLTPqlfwxECkvtnB8wfZgkJz7wyulqOiKlvKFOKtPTSs1bh8hIg540/WuEVLutLZGurri6yK6lLyHxH1pKtdsaPYmqGRfOgsQrEbZ4jtRqedyRtHmglRhJ3NL1vmACSUzvF+FWCxJIIIF0VBLd8HkMIDfKN3Qui9kxTvlq9+n6oDPxcId0Hdc3tm1Sx9/iL7Wvd8WKWbacqv4tJDqxJ0iV+0718m1+N6T58WQENzCPOzg8rusoTa696cp9tqmm0tSn63g12qOrJZPcLjoV/YbrGHHChodS7vB8pvwLqZL8CJivgjz9khxmzhMkPQmXWymf+JBIT03OSQasPPqhbpz03DrpvdEKpe4T2cHjpYLxi1LiRLqDh4J9SOiGhr1uT4XUSu71mp5+lj6lqJ8iDXc1h49fSW+0luMVTS1n6K47+pGWU/EO/i3aIDROvSS5I5OLaZJj/XT4sL3gTKldRaWjymfFo6/e5fZrpeS+TQetfG0QklS61J1wm7pU9I8OKHpJ+C3JJUj9dRUSCqXS7adrxySp/pQJ8tm6CuJ/6dlriQ7Xar5vkKqJ5NuTh6RW17dJdPyJZCYSbfcl9+MWrw0t3qziJRsVL5TSsE0q/H0hVLx70mbFoyOMkpntS/elqXm4Iy2bByVJagJPpGZ2a+P2w12SaqNSWZK2mgc+I8E8Q3Kts+Tw1IjPSbnuDY241nB5XFJPmU/f7gOr8E/1+lkjviBtNeKJAJ8m/WEw3v3zTlybTj8cPcndy5rau54gmXRnpaS12T+l/XG3FeMlkEACCSSQQAIJJJBAAgkkkEACCSSQfrLoy2j1H5PNUhTDB56avZPkAiY/eLOzeP8rkx8gTQGJ45AkbqIP6PUB/vQgPzcSInLR2Fn4dhnn3RfJhVE6eXztY24hGqsRUX6L0oVh5FpaxXl3SPLxO18Jv43GFvy+uJBWcd79kfzr4J28DPAodCnkwX/cxXl3dy3VUhqhBXgUYF6Sqt2SCgly3jdr62jsg4q3S5Lcl7g54AtDo7DraKxvHtxbCKs47x57D4WGd1t9x3gVja0k8hrCt8s4b3x9vJfbaZBAwngJJJBAAgkkkEACCSSQQAIJJJBA+m9Jt+ORLsf7j+wPM91AE0jmeJNCHGQKBVfvlDQeoZisvZsG5wjFpIUU5l+Kf2ofe1tMKRX9BExh+qVp4q/RxlxOZ1ua9fRsTRlvG2Gz2/fzAuY2O59jLKGszB/O3pjfbBbdYm/59hyb45hHtYwNZkIFCaTPLL8ByyXE1vOlSuQAAAAASUVORK5CYII=",height:30,alt:"component"})})]}),Object(h.jsxs)("li",{className:"my-1 text-center",children:[Object(h.jsx)("small",{className:"text-white",children:"DrawRelation"}),Object(h.jsx)("p",{onClick:function(){return a("Relation")},className:"text-decoration-none d-block p-2 text-center text-white pointer","data-bs-toggle":"modal","data-bs-target":"#modal-create",children:Object(h.jsx)("img",{src:Q,height:20,alt:"Relation"})})]}),Object(h.jsx)("li",{className:"my-1 text-center",children:Object(h.jsx)("p",{onClick:function(){return a("SystemBoundary")},className:"text-decoration-none d-block p-2 text-center text-white pointer","data-bs-toggle":"modal","data-bs-target":"#modal-create",children:Object(h.jsx)("small",{className:"text-white",children:"DrawSystemBoundary"})})}),Object(h.jsx)("li",{className:"my-1 text-center",children:Object(h.jsx)("p",{onClick:function(){return a("Eliminar")},className:"text-decoration-none d-block p-2 text-center text-white pointer","data-bs-toggle":"modal","data-bs-target":"#modal-create",children:Object(h.jsx)("small",{className:"text-white",children:"Eliminar"})})})]})]})},G=function(){var e=function(e,t,a,n){return"Container(".concat(e,',"').concat(t,'","').concat(a,'","').concat(n,'")\n')},t=function(e,t,a,n){return"ContainerDb(".concat(e,',"').concat(t,'","').concat(a,'","').concat(n,'")\n')},a=function(e,t,a){return"System_Ext(".concat(e,',"').concat(t,'","').concat(a,'")\n')},c=function(e,t,a){return"Rel(".concat(e,",").concat(t,',"Uses","').concat(a,'")\n')},r=function(e,t,a){return"Person(".concat(e,",").concat(t,',"').concat(a,'")\n')},s=function(e,t,a,n){return"Component(".concat(e,',"').concat(t,'","').concat(a,'","').concat(n,'")\n')},i=Object(n.useCallback)((function(n,i){switch(n){case"DrawPerson":return r.apply(void 0,Object(J.a)(i));case"DrawContainer":return e.apply(void 0,Object(J.a)(i));case"DrawContainerDB":return t.apply(void 0,Object(J.a)(i));case"DrawSystemExtern":return a.apply(void 0,Object(J.a)(i));case"DrawRelation":return c.apply(void 0,Object(J.a)(i));case"DrawComponent":return s.apply(void 0,Object(J.a)(i));default:return console.log("Error nombre useDiagram"),""}}),[]);return{DrawContainer:e,DrawContainerDB:t,DrawSystemExtern:a,DrawRelation:c,DrawPerson:r,executeDraw:i,DrawComponent:s}},V=function(e){var t=e.DrawComponent,a=e.DrawDiagram,c=e.setSourceRel,r=Object(S.h)().idsala,s=Object(n.useContext)(A).socket,i=w({id:"",title:"",tecnologia:"",description:""}),l=i.value,o=i.HandleInputChange,d=i.reset,m=l.id,u=l.title,j=l.tecnologia,b=l.description;return Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c((function(e){return[].concat(Object(J.a)(e),[m])})),a(t(m,u,j,b)),s.emit("draw-figure",{idsala:r,element:"DrawComponent",params:[m,u,j,b],idElement:m}),d()},children:[Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"idName",className:"form-control",value:m,name:"id",onChange:o})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"title",className:"form-control",value:u,name:"title",onChange:o})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"tecnologia",className:"form-control",value:j,name:"tecnologia",onChange:o})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"description",className:"form-control",value:b,name:"description",onChange:o})}),Object(h.jsxs)("div",{className:"my-2",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary mx-1","data-bs-dismiss":"modal",children:"Close"}),Object(h.jsx)("button",{className:"btn btn-primary mx-1","data-bs-dismiss":"modal",children:"Save"})]})]})},F=function(e){var t=e.DrawContainer,a=e.DrawDiagram,c=e.setSourceRel,r=Object(S.h)().idsala,s=Object(n.useContext)(A).socket,i=w({id:"",title:"",tecnologia:"",description:""}),l=i.value,o=i.HandleInputChange,d=i.reset,m=l.id,u=l.title,j=l.tecnologia,b=l.description;return Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c((function(e){return[].concat(Object(J.a)(e),[m])})),a(t(m,u,j,b)),s.emit("draw-figure",{idsala:r,element:"DrawContainer",params:[m,u,j,b],idElement:m}),d()},children:[Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"idName",className:"form-control",value:m,name:"id",onChange:o})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"title",className:"form-control",value:u,name:"title",onChange:o})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"tecnologia",className:"form-control",value:j,name:"tecnologia",onChange:o})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"description",className:"form-control",value:b,name:"description",onChange:o})}),Object(h.jsxs)("div",{className:"my-2",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary mx-1","data-bs-dismiss":"modal",children:"Close"}),Object(h.jsx)("button",{className:"btn btn-primary mx-1","data-bs-dismiss":"modal",children:"Save"})]})]})},T=function(e){var t=e.DrawContainerDB,a=e.DrawDiagram,c=e.setSourceRel,r=Object(S.h)().idsala,s=Object(n.useContext)(A).socket,i=w({id:"",title:"",tecnologia:"",description:""}),l=i.value,o=i.HandleInputChange,d=i.reset,m=l.id,u=l.title,j=l.tecnologia,b=l.description;return Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c((function(e){return[].concat(Object(J.a)(e),[m])})),a(t(m,u,j,b)),s.emit("draw-figure",{idsala:r,element:"DrawContainerDB",params:[m,u,j,b],idElement:m}),d()},children:[Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"idName",className:"form-control",value:m,name:"id",onChange:o})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"title",className:"form-control",value:u,name:"title",onChange:o})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"tecnologia",className:"form-control",value:j,name:"tecnologia",onChange:o})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"description",className:"form-control",value:b,name:"description",onChange:o})}),Object(h.jsxs)("div",{className:"my-2",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary mx-1","data-bs-dismiss":"modal",children:"Close"}),Object(h.jsx)("button",{className:"btn btn-primary mx-1","data-bs-dismiss":"modal",children:"Save"})]})]})},X=function(e){var t=Object(S.h)().idsala,a=Object(n.useContext)(A).socket,c=e.sourceRel,r=e.setsourceDiagram,s=e.DrawDiagram,i=e.setSourceRel,l=w({eliminar:"option"}),o=l.value,d=l.HandleInputChange,m=l.reset,u=o.eliminar;return Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n=new RegExp("\\S*".concat(u,"\\S*\n"),"gi"),c=new RegExp("}\n","gi");u.includes("limit")?r((function(e){var t=e.replace(n,"");return t=t.replace(c,""),console.log(t),t})):r((function(e){var t=e.replace(n,"");return console.log(t),t})),i((function(e){return e.filter((function(e){return e!==u}))})),s(),a.emit("eliminar-element",{idsala:t,idElement:u}),m()},children:[Object(h.jsx)("div",{className:"my-2",children:Object(h.jsxs)("select",{name:"eliminar",className:"form-select",defaultValue:u,onChange:d,children:[Object(h.jsx)("option",{value:"option",children:"Option"}),c.map((function(e){return Object(h.jsx)("option",{value:e,children:e},e)}))]})}),Object(h.jsxs)("div",{className:"my-2",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary mx-1","data-bs-dismiss":"modal",children:"Close"}),Object(h.jsx)("button",{className:"btn btn-primary mx-1","data-bs-dismiss":"modal",children:"Eliminar"})]})]})},q=function(e){var t=e.DrawPerson,a=e.DrawDiagram,c=e.setSourceRel,r=Object(n.useContext)(g).socket,s=Object(S.h)().idsala,i=w({id:"",title:"",description:""}),l=i.value,o=i.HandleInputChange,d=i.reset,m=l.id,u=l.title,j=l.description;return Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c((function(e){return[].concat(Object(J.a)(e),[m])})),a(t(m,u,j)),r.emit("draw-figure",{idsala:s,element:"DrawPerson",params:[m,u,j],idElement:m}),d()},children:[Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"idName",className:"form-control",value:m,name:"id",onChange:o})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"title",className:"form-control",value:u,name:"title",onChange:o})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"description",className:"form-control",value:j,name:"description",onChange:o})}),Object(h.jsxs)("div",{className:"my-2",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary mx-1","data-bs-dismiss":"modal",children:"Close"}),Object(h.jsx)("button",{className:"btn btn-primary mx-1","data-bs-dismiss":"modal",children:"Save"})]})]})},z=function(e){var t=e.DrawRelation,a=e.DrawDiagram,c=e.sourceRel,r=Object(n.useContext)(A).socket,s=Object(S.h)().idsala,i=w({start:"option",end:"option",comment:""}),l=i.value,o=i.HandleInputChange,d=(i.reset,l.start),m=l.end,u=l.comment;return Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(t(d,m,u)),r.emit("draw-figure",{idsala:s,element:"DrawRelation",params:[d,m,u],idElement:null})},children:[Object(h.jsx)("div",{className:"my-2",children:Object(h.jsxs)("select",{name:"start",className:"form-select",defaultValue:d,onChange:o,children:[Object(h.jsx)("option",{value:"option",children:"Option"}),c.map((function(e){return Object(h.jsx)("option",{value:e,children:e},e)}))]})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsxs)("select",{name:"end",className:"form-select",defaultValue:m,onChange:o,children:[Object(h.jsx)("option",{value:"option",children:"Option"}),c.map((function(e){return Object(h.jsx)("option",{value:e,children:e},e)}))]})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"comment",className:"form-control",value:u,name:"comment",onChange:o})}),Object(h.jsxs)("div",{className:"my-2",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary mx-1","data-bs-dismiss":"modal",children:"Close"}),Object(h.jsx)("button",{className:"btn btn-primary mx-1","data-bs-dismiss":"modal",children:"Save"})]})]})},M=function(e){var t=e.DrawDiagram,a=e.setSourceRel,c=Object(n.useContext)(A).socket,r=Object(S.h)().idsala,s=w({id:"",title:""}),i=s.value,l=s.HandleInputChange,o=s.reset,d=i.id,m=i.title;return Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n="limit"+d;a((function(e){return[].concat(Object(J.a)(e),[n])})),t("",{id:n,title:m}),c.emit("draw-figure",{idsala:r,element:"DrawSystemBoundary",params:[n,m],idElement:n}),o()},children:[Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"idName",className:"form-control",value:d,name:"id",onChange:l})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"title",className:"form-control",value:m,name:"title",onChange:l})}),Object(h.jsxs)("div",{className:"my-2",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary mx-1","data-bs-dismiss":"modal",children:"Close"}),Object(h.jsx)("button",{className:"btn btn-primary mx-1","data-bs-dismiss":"modal",children:"Save"})]})]})},W=function(e){var t=e.DrawSystemExtern,a=e.DrawDiagram,c=e.setSourceRel,r=Object(n.useContext)(A).socket,s=Object(S.h)().idsala,i=w({id:"",title:"",description:""}),l=i.value,o=i.HandleInputChange,d=i.reset,m=l.id,u=l.title,j=l.description;return Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c((function(e){return[].concat(Object(J.a)(e),[m])})),a(t(m,u,j)),r.emit("draw-figure",{idsala:s,element:"DrawSystemExtern",params:[m,u,j],idElement:m}),d()},children:[Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"idName",className:"form-control",value:m,name:"id",onChange:o})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"title",className:"form-control",value:u,name:"title",onChange:o})}),Object(h.jsx)("div",{className:"my-2",children:Object(h.jsx)("input",{type:"text",placeholder:"description",className:"form-control",value:j,name:"description",onChange:o})}),Object(h.jsxs)("div",{className:"my-2",children:[Object(h.jsx)("button",{type:"button",className:"btn btn-secondary mx-1","data-bs-dismiss":"modal",children:"Close"}),Object(h.jsx)("button",{className:"btn btn-primary mx-1","data-bs-dismiss":"modal",children:"Save"})]})]})},Z=function(e){var t=G(),a=t.DrawContainer,n=t.DrawContainerDB,c=t.DrawSystemExtern,r=t.DrawPerson,s=t.DrawRelation,i=t.DrawComponent,l=e.type,o=e.DrawDiagram,d=e.setSourceRel,m=e.sourceRel,u=e.setsourceDiagram;switch(l){case"load":return Object(h.jsx)("div",{className:"text-center",children:Object(h.jsx)("span",{className:"text-center spinner-border text-primary"})});case"person":return Object(h.jsx)(q,{DrawPerson:r,DrawDiagram:o,setSourceRel:d});case"container":return Object(h.jsx)(F,{DrawContainer:a,DrawDiagram:o,setSourceRel:d});case"system_extern":return Object(h.jsx)(W,{DrawSystemExtern:c,DrawDiagram:o,setSourceRel:d});case"containerDB":return Object(h.jsx)(T,{DrawContainerDB:n,DrawDiagram:o,setSourceRel:d});case"component":return Object(h.jsx)(V,{DrawComponent:i,DrawDiagram:o,setSourceRel:d});case"SystemBoundary":return Object(h.jsx)(M,{DrawDiagram:o,setSourceRel:d});case"Eliminar":return Object(h.jsx)(X,{sourceRel:m,setSourceRel:d,DrawDiagram:o,setsourceDiagram:u});case"Relation":return Object(h.jsx)(z,{DrawRelation:s,DrawDiagram:o,sourceRel:m});default:return Object(h.jsx)("small",{children:"error"})}},_=function(e){var t=e.type,a=e.DrawDiagram,n=e.setSourceRel,c=e.sourceRel,r=e.setsourceDiagram;return Object(h.jsx)("div",{className:"modal fade",id:"modal-create","aria-hidden":"true",children:Object(h.jsx)("div",{className:"modal-dialog",children:Object(h.jsxs)("div",{className:"modal-content",children:[Object(h.jsxs)("div",{className:"modal-header",children:[Object(h.jsxs)("h5",{className:"modal-title",children:["Modal ",t]}),Object(h.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(h.jsx)("div",{className:"modal-body",children:Object(h.jsx)(Z,{type:t,DrawDiagram:a,setSourceRel:n,sourceRel:c,setsourceDiagram:r})})]})})})},$=function(e){if(window.TextEncoder)return new TextEncoder("utf-8").encode(e);for(var t=unescape(encodeURIComponent(e)),a=new Uint8Array(t.length),n=0;n<t.length;n++)a[n]=t.charCodeAt(n);return a},ee=function(){var e=Object(S.g)(),t=Object(n.useContext)(A).socket,a=Object(n.useState)(!1),c=Object(o.a)(a,2),r=c[0],s=c[1],d=Object(n.useState)("load"),u=Object(o.a)(d,2),j=u[0],b=u[1],x=Object(n.useState)("Container"),p=Object(o.a)(x,2),f=p[0],v=p[1],g=G().executeDraw,N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(n.useContext)(O).auth,a=Object(n.useState)(e),c=Object(o.a)(a,2),r=c[0],s=c[1],d=Object(n.useState)(!1),u=Object(o.a)(d,2),j=u[0],b=u[1],x=Object(n.useState)(""),h=Object(o.a)(x,2),p=h[0],f=h[1],v=Object(n.useState)(!0),g=Object(o.a)(v,2),N=g[0],A=g[1],y=Object(S.h)().idsala,C=Object(n.useCallback)(Object(l.a)(i.a.mark((function e(){var a,n,c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/sala/getOne/".concat(y));case 2:if((a=e.sent).ok){e.next=7;break}return A(!1),f("El id es invalido!!!"),e.abrupt("return");case 7:if(A(!1),n=a.data,c=n.anfitrion,r=n.usuarios,n.active){e.next=13;break}return f("La sala no esta activa!!!"),e.abrupt("return");case 13:if(c!==t.id){e.next=17;break}return s(n),b(!0),e.abrupt("return");case 17:if(void 0!==r.find((function(e){return e===t.id}))){e.next=21;break}return f("No tiene permiso del anfitrion!!!"),e.abrupt("return");case 21:f(""),s(n);case 23:case"end":return e.stop()}}),e)}))),[t.id,y]);return Object(n.useEffect)((function(){C()}),[C]),{sala:r,error:p,auth:t,isAnfitrion:j,validate:N}}(),y=N.sala,C=N.error,k=N.isAnfitrion,w=N.validate,R=Object(n.useState)(""),D=Object(o.a)(R,2),E=D[0],I=D[1],H=Object(n.useState)([]),B=Object(o.a)(H,2),Q=B[0],K=B[1],V=Object(n.useRef)(),F=function(){var a=Object(l.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m("/sala/finalize/".concat(y._id));case 2:if(a.sent.ok){a.next=6;break}return console.log("Error no se pudo cerrar la sala"),a.abrupt("return");case 6:t.emit("finalizar-sala",{idSala:y._id}),e.replace("/");case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),T=function(){try{fetch(V.current.src).then((function(e){return e.blob()})).then((function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.style.display="none",a.href=t,a.download="DiagramaC4",document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(t)}))}catch(e){alert("Nose pudo descargar la imagen!!!")}},X=Object(n.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a="@startuml\n!include C4_".concat(f,".puml\n");if(t){var n=t.id,c=t.title;I((function(e){var t="System_Boundary(".concat(n,',"').concat(c,'"){\n')+e+"}\n";a+=t;var r=$(a+="@enduml"),s=L.a.deflate(r,{level:9,to:"string"}),i=btoa(s).replace(/\+/g,"-").replace(/\//g,"_");return V.current.src="https://kroki.io/plantuml/svg/".concat(i),t}))}else I((function(t){a+=t,a+=e;var n=$(a+="@enduml"),c=L.a.deflate(n,{level:9,to:"string"}),r=btoa(c).replace(/\+/g,"-").replace(/\//g,"_");return V.current.src="https://kroki.io/plantuml/svg/".concat(r),t+e}))}),[f]),q=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/sala/setData/".concat(y._id),"POST",{board:E,links:Q});case 2:if(e.sent.ok){e.next=6;break}return alert("No se pudo guardar la data !!!"),e.abrupt("return");case 6:alert("Se guardo los datos de la pizarra !!!");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return t.on("solicitud-anfitrion",(function(e){var a=e.idUser,n=e.message,c=e.idSala;window.confirm(n)?t.emit("solicitud-aceptada",{idUser:a,idSala:c}):t.emit("solicitud-denegada",{idUser:a,idSala:c})})),function(){t.removeAllListeners("solicitud-anfitrion")}}),[t]),Object(n.useEffect)((function(){y&&t.emit("agregar-sala",{idSala:y._id})}),[t,y]),Object(n.useEffect)((function(){return t.on("close-sala",(function(a){t.emit("leave-sala",a),e.replace("/")})),function(){t.removeAllListeners("close-sala")}}),[t,e]),Object(n.useEffect)((function(){return t.on("borrar-board-client",(function(){I(""),K([]),X()})),function(){t.removeAllListeners("borrar-board-client")}}),[t,X]),Object(n.useEffect)((function(){return t.on("draw-figure-sala",(function(e){var t=e.element,a=e.params,n=e.idElement;if(n&&K((function(e){return[].concat(Object(J.a)(e),[n])})),"DrawSystemBoundary"!==t)X(g(t,a));else{var c=Object(o.a)(a,2),r=c[0],s=c[1];X("",{id:r,title:s})}})),function(){t.removeAllListeners("draw-figure-sala")}}),[t,g,X]),Object(n.useEffect)((function(){y&&V.current&&(I(y.board),K(y.links),X())}),[y,X]),Object(n.useEffect)((function(){return t.on("eliminar-element-client",(function(e){var t=e.idElement,a=new RegExp("\\S*".concat(t,"\\S*\n"),"gi"),n=new RegExp("}\n","gi");t.includes("limit")?I((function(e){var t=e.replace(a,"");return t=t.replace(n,"")})):I((function(e){return e.replace(a,"")})),K((function(e){return e.filter((function(e){return e!==t}))})),X()})),function(){t.removeAllListeners("eliminar-element-client")}}),[t,X]),w?Object(h.jsx)("h5",{className:"text-center",children:"Cargando !!!"}):C.length>0?Object(h.jsx)("h5",{className:"text-center",children:C}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(Y,{show:r,HandleTypeModal:function(e){b(e)},HandleTypeDiagram:function(e){v(e)}}),Object(h.jsxs)("div",{className:"container-fluid",children:[Object(h.jsxs)("header",{className:"row border",children:[Object(h.jsx)("div",{className:"col-md-11",children:Object(h.jsx)("h2",{className:"text-center",children:"C4 Diagramas"})}),Object(h.jsx)("div",{className:"col-md-1 text-center my-auto",children:Object(h.jsx)(U.a,{icon:P.a,className:"pointer",onClick:function(){return s(!r)}})})]}),Object(h.jsxs)("section",{className:"row mt-3",children:[Object(h.jsx)("div",{className:"col-12 col-md-10 mx-auto shadow board text-center",children:Object(h.jsx)("img",{ref:V,src:"x",alt:"C4 diagramas",className:Q.length>2?{height:"600px",maxWidth:"1000px"}:""})}),Object(h.jsx)("div",{className:"col-12 col-md-10 mx-auto p-2",children:k?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("button",{onClick:q,className:"btn btn-primary mx-1",children:"Guardar"}),Object(h.jsx)("button",{onClick:function(){I(""),K([]),X(),t.emit("borrar-board",{idSala:y._id})},className:"btn btn-danger mx-1",children:"Borrar"}),Object(h.jsx)("button",{onClick:T,className:"btn btn-success mx-1",children:"Imprimir"}),Object(h.jsx)("button",{onClick:F,className:"btn btn-dark mx-1",children:"Finalizar reunion"})]}):Object(h.jsx)("button",{onClick:T,className:"btn btn-success mx-1",children:"Imprimir"})})]}),Object(h.jsx)(_,{type:j,DrawDiagram:X,setSourceRel:K,sourceRel:Q,setsourceDiagram:I})]})]})},te=function(e){var t=e.agregar,a=e.idUser,n=w({name:""}),c=n.value,r=n.HandleInputChange,s=n.reset,o=c.name,d=function(){var e=Object(l.a)(i.a.mark((function e(n){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,m("/sala/create","POST",{anfitrion:a,name:o});case 3:if((c=e.sent).ok){e.next=7;break}return console.log("Error al crear la sala:".concat(c.message)),e.abrupt("return");case 7:t(c.data),s();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{className:"border rounded my-1 bg-white shadow p-2",children:[Object(h.jsx)("h5",{className:"text-center",children:"Crear una Sala"}),Object(h.jsxs)("form",{className:"container-fluid row  m-0",onSubmit:d,children:[Object(h.jsx)("div",{className:"col-md-10 mx-auto my-1",children:Object(h.jsx)("input",{name:"name",value:o,onChange:r,type:"text",placeholder:"name",className:"form-control"})}),Object(h.jsx)("div",{className:"col-md-10 mx-auto my-2",children:Object(h.jsx)("button",{className:"btn btn-primary",children:"crear"})})]})]})},ae=function(e){var t=e.data,a=e.eliminar,n=e.idUser,c=e.update,r=function(){var e=Object(l.a)(i.a.mark((function e(t){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/sala/delete/".concat(t),"DELETE",{anfitrion:n});case 2:if((c=e.sent).ok){e.next=6;break}return console.warn("Error al eliminar la sala:"+c.message),e.abrupt("return");case 6:a(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m("/sala/active/".concat(t),"PUT",{anfitrion:n,active:!0});case 2:c(t,{active:!0});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{className:"col-md-9 p-1 section overflow-auto",children:Object(h.jsx)("div",{className:"container-fluid",children:Object(h.jsxs)("table",{className:"text-black-50 table table-striped text-center text-white",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"id"}),Object(h.jsx)("th",{children:"name"}),Object(h.jsx)("th",{children:"estado"}),Object(h.jsx)("th",{children:"eliminar"})]})}),Object(h.jsx)("tbody",{children:t.map((function(e){return Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:e._id}),Object(h.jsx)("th",{children:e.name}),e.active?Object(h.jsx)("th",{children:Object(h.jsx)(y.b,{to:"/board/".concat(e._id),className:"btn btn-success",children:"ir a sala"})}):Object(h.jsx)("th",{children:Object(h.jsx)("button",{onClick:function(t){return s(e._id)},className:"btn btn-primary",children:"activate"})}),Object(h.jsx)("th",{children:Object(h.jsx)("button",{onClick:function(t){return r(e._id)},className:"btn btn-danger",children:"eliminar"})})]},e._id)}))})]})})})},ne=function(){var e=Object(S.g)(),t=Object(n.useContext)(A),a=t.online,c=t.socket,r=Object(n.useContext)(O),s=r.auth,d=r.logout,j=s.id,b=function(e){var t=Object(n.useState)([]),a=Object(o.a)(t,2),c=a[0],r=a[1],s=function(){var t=Object(l.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m("/sala/list/".concat(e));case 2:(a=t.sent).ok||console.warn(a.message),r(a.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),{salas:c,agregar:function(e){r([].concat(Object(J.a)(c),[e]))},eliminar:function(e){var t=c.filter((function(t){return t._id!==e}));r(t)},update:function(e,t){var a=c.map((function(a){return a._id===e?Object(u.a)(Object(u.a)({},a),t):a}));r(a)}}}(j),x=b.salas,p=b.agregar,f=b.eliminar,v=b.update,g=w({idSala:""}),N=g.value,y=g.HandleInputChange,C=N.idSala,k=Object(n.useCallback)(function(){var t=Object(l.a)(i.a.mark((function t(a){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m("/sala/setUsuario/".concat(a),"PUT",{idUser:j});case 2:if(t.sent.ok){t.next=6;break}return console.log("Error al agregar el usuario"),t.abrupt("return");case 6:e.replace("/board/".concat(a));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e,j]);return Object(n.useEffect)((function(){return c.on("respuesta-solicitud",(function(e){var t=e.active,a=e.denegado,n=e.idSala;t?a?alert("El anfitrion a denegado la solicitud!!!"):k(n):alert("La sala no esta activa!!!")})),function(){c.removeAllListeners("respuesta-solicitud")}}),[c,k]),Object(h.jsxs)("div",{className:"vh100 bg-content",children:[Object(h.jsx)("header",{className:"bg-dark text-white container-fluid",children:Object(h.jsxs)("div",{className:"row p-1",children:[Object(h.jsx)("div",{className:"col-md-11",children:Object(h.jsx)("h1",{className:"my-1  text-center",children:"C4 Diagramas"})}),Object(h.jsx)("div",{className:"col-md-1 text-center justify-content-center d-flex align-items-center",children:Object(h.jsx)("p",{onClick:function(){d()},className:"text-white-50 pointer",children:"logout"})})]})}),a?Object(h.jsx)("small",{className:"text-center d-block text-primary",children:"online"}):Object(h.jsx)("small",{className:"text-center d-block text-danger",children:"offline"}),Object(h.jsx)("section",{className:"container-fluid mt-2",children:Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)(ae,{data:x,eliminar:f,idUser:j,update:v}),Object(h.jsxs)("div",{className:"col-md-3 p-1 justify-content-start d-flex flex-column ",children:[Object(h.jsxs)("div",{className:"border rounded my-1 bg-white shadow p-2",children:[Object(h.jsx)("h5",{className:"text-center",children:"Unirse a Sala"}),Object(h.jsxs)("form",{className:"container-fluid row  m-0",onSubmit:function(e){e.preventDefault(),c.emit("solicitud-sala",{idSala:C,nameUser:s.name,idUser:j})},children:[Object(h.jsx)("div",{className:"col-md-10 mx-auto my-1",children:Object(h.jsx)("input",{type:"text",name:"idSala",onChange:y,value:C,placeholder:"idSala",className:"form-control"})}),Object(h.jsx)("div",{className:"col-md-10 mx-auto my-2",children:Object(h.jsx)("button",{className:"btn btn-primary",children:"solicitar"})})]})]}),Object(h.jsx)(te,{agregar:p,idUser:j})]})]})})]})},ce=a(34),re=["isAuthenticated","component"],se=function(e){var t=e.isAuthenticated,a=e.component,n=Object(ce.a)(e,re);return t?Object(h.jsx)(S.b,Object(u.a)(Object(u.a)({},n),{},{component:a})):Object(h.jsx)(S.a,{to:"/login"})},ie=["isAuthenticated","component"],le=function(e){var t=e.isAuthenticated,a=e.component,n=Object(ce.a)(e,ie);return t?Object(h.jsx)(S.a,{to:"/"}):Object(h.jsx)(S.b,Object(u.a)(Object(u.a)({},n),{},{component:a}))},oe=function(){var e=Object(n.useContext)(O),t=e.auth,a=e.dispatch,c=t.isAuthenticated,r=Object(n.useState)(!1),s=Object(o.a)(r,2),d=s[0],u=s[1],b=Object(n.useCallback)(function(){var e=Object(l.a)(i.a.mark((function e(t){var n,c,r,s,l,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.parse(atob(t)),c=n.id,e.next=3,m("/user/getOne/".concat(c));case 3:if((r=e.sent).ok){e.next=6;break}return e.abrupt("return");case 6:s=r.data,l=s.name,o=s.email,a({type:j,payload:{id:c,name:l,email:o}});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a]);return Object(n.useEffect)((function(){var e=localStorage.getItem("keyID")||null;e?b(e).then((function(){u(!0)})):u(!0)}),[b]),d?Object(h.jsx)(y.a,{children:Object(h.jsx)("div",{children:Object(h.jsxs)(S.d,{children:[Object(h.jsx)(se,{exact:!0,path:"/",component:ne,isAuthenticated:c}),Object(h.jsx)(se,{exact:!0,path:"/board/:idsala",component:ee,isAuthenticated:c}),Object(h.jsx)(le,{exact:!0,path:"/login",component:R,isAuthenticated:c}),Object(h.jsx)(le,{exact:!0,path:"/register",component:E,isAuthenticated:c}),Object(h.jsx)(S.a,{to:"/login"})]})})}):Object(h.jsx)("h3",{className:"text-center",children:"Loading.."})},de=function(){return Object(h.jsx)(f,{children:Object(h.jsx)(N,{children:Object(h.jsx)(oe,{})})})};r.a.render(Object(h.jsx)(de,{}),document.getElementById("root"))},63:function(e,t,a){}},[[110,1,2]]]);
//# sourceMappingURL=main.6b3159e0.chunk.js.map