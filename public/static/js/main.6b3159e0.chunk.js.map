{"version":3,"sources":["const/api.js","api/apiDiagrama.js","type/types.js","reducer/authReducer.js","context/authContext.js","context/socketContext.js","hooks/useSocket.js","assets/image/login.svg","hooks/useForm.js","page/auth/LoginPage.js","assets/image/register.svg","page/auth/RegisterPage.js","assets/image/container.png","assets/image/DB.png","assets/image/flecha.png","assets/image/swext.png","components/Sidebar.js","assets/image/person.png","assets/image/component.png","hooks/useDiagrama.js","components/FormComponent.js","components/FormContainer.js","components/FormContainerDB.js","components/FormDelete.js","components/FormPerson.js","components/FormRelation.js","components/FormSystemBoundary.js","components/FormSystemExtern.js","components/Modal.js","helpers/helpers.js","page/board/BoardPage.js","hooks/useSala.js","page/home/CreateSala.js","page/home/List.js","page/home/HomePage.js","hooks/useLoadSala.js","router/PrivateRouter.js","router/PublicRouter.js","router/AppRouter.js","App.js","index.js"],"names":["Api","apiDiagrama","endpoint","method","data","fetch","headers","body","JSON","stringify","then","res","json","catch","err","console","log","types","authReducer","state","action","type","payload","isAuthenticated","id","name","email","authContext","createContext","authInitialState","AuthContextProvider","children","useReducer","authState","dispatch","login","password","callback","a","errors","ok","localStorage","setItem","btoa","_id","createUser","Provider","value","auth","logout","removeItem","socketContext","SocketContextProvider","serverPath","useState","socket","setSocket","online","setOnline","conectarSocket","useCallback","token","parse","atob","getItem","socketTemp","io","transports","forceNew","query","idsocket","desconectarSocket","disconnect","useEffect","on","connected","useSocket","useContext","useForm","initialState","setValue","HandleInputChange","e","target","reset","LoginPage","error","seterror","HandleLoginSubmit","preventDefault","className","src","imagenLogin","alt","onSubmit","onChange","required","placeholder","to","length","RegisterPage","HandleRegisterSubmit","imagenRegister","Sidebar","props","show","HandleTypeModal","HandleTypeDiagram","nivel","setnivel","style","left","defaultValue","onClick","height","imContainer","imsystExtern","imDB","imFlecha","useDiagrama","DrawContainer","title","tecnologia","description","DrawContainerDB","DrawSystemExtern","DrawRelation","startId","endId","DrawPerson","DrawComponent","executeDraw","params","FormComponent","DrawDiagram","setSourceRel","idsala","useParams","rels","emit","element","idElement","FormContainer","FormContainerDB","FormDelete","sourceRel","setsourceDiagram","eliminar","regexFind","RegExp","regexCierre","includes","dataSource","replace","ArrayIds","filter","idRel","map","rel","FormPerson","FormRelation","start","end","comment","FormSystemBoundary","limit","FormSystemExtern","RenderSwitch","Modal","textEncode","str","window","TextEncoder","encode","utf8","unescape","encodeURIComponent","result","Uint8Array","i","charCodeAt","BoardPage","history","useHistory","showbar","setShowbar","typeModal","setTypeModal","typeDiagram","settypeDiagram","InitialState","sala","setSala","isAnfitrion","setisAnfitrion","validate","setvalidate","getSala","anfitrion","usuarios","active","undefined","find","elemet","useSala","sourceDiagram","refImage","useRef","FinalizarRoom","idSala","HandleClickDowload","current","resp","blob","url","URL","createObjectURL","document","createElement","display","href","download","appendChild","click","revokeObjectURL","errr","alert","SystemBoundary","source","sourceD","DrawSystem_Boundary","compressed","pako","deflate","level","HandleSaveBoard","board","links","args","idUser","message","confirm","removeAllListeners","icon","faBars","ref","maxWidth","CreateSala","agregar","HandleCreateSubmit","List","update","HandleClickEliminar","warn","HandleActiveSala","HomePage","salas","setsalas","LoadSala","salasFiltradas","salasUpdated","useLoadSala","SetUserSala","denegado","nameUser","PrivateRouter","Component","component","rest","PublicRouter","AppRouter","validateToken","setvalidateToken","Validate","exact","path","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.6b3159e0.chunk.js","sourcesContent":["export const Api = {\r\n    url: \"http://54.233.112.2:8000\"\r\n}","import { Api } from \"../const/api\";\r\n\r\nexport const apiDiagrama = (endpoint, method = \"GET\", data = null) => {\r\n\r\n    if (data) {\r\n        return fetch(Api.url + endpoint, {\r\n            method,\r\n            headers: {\r\n                \"content-type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify(data)\r\n        })\r\n            .then((res) => res.json())\r\n            .catch((err) => console.log(Api.url + endpoint + \":error \" + err));\r\n    }\r\n\r\n    return fetch(Api.url + endpoint)\r\n        .then((res) => res.json())\r\n        .catch((err) => console.log(Api.url + endpoint + \":error \" + err));\r\n}","export const types = {\r\n    authLogin : \"Auth: Login\",\r\n    authLogout: \"Auth Logout\",\r\n}","import { types } from '../type/types';\r\n\r\n// id: null,\r\n// name: null,\r\n// email: null,\r\n// isAuthenticated: false\r\n\r\nexport const authReducer = (state, action) => {\r\n\r\n    switch (action.type) {\r\n        case types.authLogin:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n                isAuthenticated: true\r\n            }\r\n\r\n        case types.authLogout:\r\n            return {\r\n                id: null,\r\n                name: null,\r\n                email: null,\r\n                isAuthenticated: false\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n","import { createContext, useReducer } from 'react';\r\nimport { apiDiagrama } from '../api/apiDiagrama';\r\nimport { authReducer } from '../reducer/authReducer';\r\nimport { types } from '../type/types';\r\n\r\nexport const authContext = createContext(null);\r\n\r\nconst authInitialState = {\r\n    id: null,\r\n    name: null,\r\n    email: null,\r\n    isAuthenticated: false\r\n}\r\n\r\nexport const AuthContextProvider = ({ children }) => {\r\n\r\n    const [authState, dispatch] = useReducer(authReducer, authInitialState);\r\n\r\n    const login = async (email, password, callback) => {\r\n\r\n        const res = await apiDiagrama(\"/user/login\", \"POST\", { email, password });\r\n\r\n        if (res.errors || !res.ok) {\r\n            callback(true);\r\n            return;\r\n        }\r\n\r\n        callback(false);\r\n\r\n        const { data } = res;\r\n\r\n        localStorage.setItem(\"keyID\", btoa(JSON.stringify({ id: data._id })));\r\n\r\n        dispatch({\r\n            type: types.authLogin,\r\n            payload: { id: data._id, name: data.name, email: data.email }\r\n        });\r\n\r\n    }\r\n\r\n    const logout = () => {\r\n\r\n        localStorage.removeItem(\"keyID\");\r\n\r\n        dispatch({\r\n            type: types.authLogout\r\n        });\r\n    }\r\n\r\n    const createUser = async (name, email, password, callback) => {\r\n\r\n        const res = await apiDiagrama(\"/user/create\", \"POST\", { name, email, password });\r\n\r\n        if (res.errors || !res.ok) {\r\n            callback(true);\r\n        }\r\n        callback(false);\r\n\r\n        const { data } = res;\r\n\r\n        localStorage.setItem(\"keyID\", btoa(JSON.stringify({ id: data._id })));\r\n\r\n        dispatch({\r\n            type: types.authLogin,\r\n            payload: { id: data._id, name: data.name, email: data.email }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <authContext.Provider value={{\r\n            auth: authState,\r\n            login,\r\n            logout,\r\n            createUser,\r\n            dispatch\r\n        }}>\r\n            {children}\r\n        </authContext.Provider>\r\n    )\r\n}\r\n","import { createContext, useContext, useEffect } from \"react\"\r\nimport { Api } from \"../const/api\";\r\nimport { useSocket } from \"../hooks/useSocket\";\r\nimport { authContext } from \"./authContext\";\r\n\r\nexport const socketContext = createContext(null);\r\n\r\nexport const SocketContextProvider = ({ children }) => {\r\n\r\n    const { socket, online, conectarSocket, desconectarSocket } = useSocket(Api.url);\r\n    const { auth } = useContext(authContext);\r\n    const { isAuthenticated } = auth;\r\n\r\n    useEffect(() => {\r\n\r\n        if (isAuthenticated) {\r\n            conectarSocket();\r\n        }\r\n\r\n    }, [isAuthenticated, conectarSocket]);\r\n\r\n    useEffect(() => {\r\n\r\n        if (!isAuthenticated) {\r\n            desconectarSocket();\r\n        }\r\n\r\n    }, [isAuthenticated, desconectarSocket]);\r\n\r\n\r\n    return (\r\n        <socketContext.Provider value={{\r\n            socket,\r\n            online\r\n        }}>\r\n            {children}\r\n        </socketContext.Provider>\r\n    )\r\n}\r\n\r\nexport default socketContext\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport { io } from 'socket.io-client';\r\n\r\nexport const useSocket = (serverPath) => {\r\n\r\n    const [socket, setSocket] = useState(null);\r\n    const [online, setOnline] = useState(false);\r\n\r\n    const conectarSocket = useCallback(() => {\r\n\r\n        let token = JSON.parse(atob(localStorage.getItem(\"keyID\"))) || null;\r\n\r\n        let socketTemp = io(serverPath, {\r\n            transports: [\"websocket\"],\r\n            forceNew: true,\r\n            query: {\r\n                idsocket: token.id\r\n            }\r\n        });\r\n\r\n        setSocket(socketTemp);\r\n\r\n    }, [serverPath]);\r\n\r\n    const desconectarSocket = useCallback(() => {\r\n        socket?.disconnect();\r\n    }, [socket]);\r\n\r\n    useEffect(() => {\r\n        socket?.on(\"connect\", () => {\r\n            setOnline(true);\r\n        });\r\n    }, [socket]);\r\n\r\n    useEffect(() => {\r\n        setOnline(socket?.connected);\r\n    }, [socket]);\r\n\r\n    useEffect(() => {\r\n        socket?.on(\"disconnect\", () => {\r\n            setOnline(false);\r\n        });\r\n    }, [socket]);\r\n\r\n    return {\r\n        socket,\r\n        online,\r\n        conectarSocket,\r\n        desconectarSocket\r\n    }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/login.13ad524f.svg\";","\r\nimport { useState } from 'react'\r\n\r\nexport const useForm = (initialState) => {\r\n\r\n    const [value, setValue] = useState(initialState);\r\n\r\n    const HandleInputChange = (e) => {\r\n        setValue({\r\n            ...value,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    }\r\n\r\n    const reset = () => {\r\n        setValue(initialState);\r\n    }\r\n\r\n    return {\r\n        value,\r\n        HandleInputChange,\r\n        reset\r\n    }\r\n}\r\n","import React, { useContext, useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport imagenLogin from '../../assets/image/login.svg';\r\nimport { authContext } from '../../context/authContext';\r\nimport { useForm } from '../../hooks/useForm';\r\n\r\nconst LoginPage = () => {\r\n\r\n    const { login } = useContext(authContext);\r\n\r\n    const { value, HandleInputChange } = useForm({ email: \"\", password: \"\" });\r\n    const [error, seterror] = useState(\"\");\r\n    const { email, password } = value;\r\n\r\n    const HandleLoginSubmit = async (e) => {\r\n        e.preventDefault();\r\n        await login(email, password, (err) => {\r\n            seterror(err ? \"Error en la validacion !!!\" : \"\");\r\n        });\r\n    }\r\n\r\n    return (\r\n\r\n        <div className='bg-custom container-fluid vh100 d-flex justify-content-center align-items-center'>\r\n\r\n            <div className='card-auth shadow d-flex  justify-content-center align-items-center'>\r\n                <img src={imagenLogin} className='img-medium' alt=\"login\" />\r\n            </div>\r\n\r\n            <div className='card-auth  shadow d-flex justify-content-center align-items-center'>\r\n\r\n                <form\r\n                    className='row m-0  img-medium rounded'\r\n                    onSubmit={HandleLoginSubmit}\r\n                >\r\n\r\n                    <h4 className='text-center'>Login</h4>\r\n\r\n                    <div className='col-12 col-md-10 mx-auto my-2'>\r\n                        <input\r\n                            name='email'\r\n                            value={email}\r\n                            onChange={HandleInputChange}\r\n                            type='email'\r\n                            className='form-control'\r\n                            required\r\n                            placeholder='email...'\r\n                        />\r\n                    </div>\r\n\r\n                    <div className='col-12 col-md-10 mx-auto my-2'>\r\n                        <input\r\n                            name='password'\r\n                            value={password}\r\n                            onChange={HandleInputChange}\r\n                            type='password'\r\n                            className='form-control'\r\n                            required\r\n                            placeholder='password...'\r\n                        />\r\n                    </div>\r\n\r\n                    <div className='col-md-10 mx-auto my-2'>\r\n                        <Link to={'/register'} className='text-white'>create new account?</Link>\r\n                    </div>\r\n\r\n                    {\r\n                        (error.length !== 0) &&\r\n\r\n                        <div className='text-center text-warning'>\r\n                            <small>{error}</small>\r\n                        </div>\r\n\r\n                    }\r\n\r\n                    <div className='col-md-10 mx-auto my-2'>\r\n                        <button className='btn btn-primary'>\r\n                            Login\r\n                        </button>\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default LoginPage\r\n","export default __webpack_public_path__ + \"static/media/register.6bdc34eb.svg\";","import React, { useContext, useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport imagenRegister from '../../assets/image/register.svg';\r\nimport { authContext } from '../../context/authContext';\r\nimport { useForm } from '../../hooks/useForm';\r\n\r\nconst RegisterPage = () => {\r\n\r\n\r\n    const { createUser } = useContext(authContext);\r\n\r\n    const { value, HandleInputChange } = useForm({\r\n        name: \"\",\r\n        email: \"\",\r\n        password: \"\"\r\n    });\r\n\r\n    const [error, seterror] = useState(\"\");\r\n\r\n    const { name, email, password } = value;\r\n\r\n    const HandleRegisterSubmit = async (e) => {\r\n\r\n        e.preventDefault();\r\n        await createUser(name, email, password, (err) => {\r\n            seterror(err ? \"Error en la validacion de los datos !!!\" : \"\");\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className='bg-custom container-fluid vh100 d-flex justify-content-center align-items-center'>\r\n\r\n            <div className='card-auth shadow d-flex  justify-content-center align-items-center'>\r\n                <img src={imagenRegister} className='img-medium' alt=\"register\" />\r\n            </div>\r\n\r\n            <div className='card-auth  shadow d-flex justify-content-center align-items-center'>\r\n\r\n                <form\r\n                    className='row m-0  img-medium rounded'\r\n                    onSubmit={HandleRegisterSubmit}\r\n                >\r\n\r\n                    <h4 className='text-center'>Register</h4>\r\n\r\n\r\n                    <div className='col-12 col-md-10 mx-auto my-2'>\r\n                        <input\r\n                            name='name'\r\n                            value={name}\r\n                            onChange={HandleInputChange}\r\n                            type='text'\r\n                            className='form-control'\r\n                            required\r\n                            placeholder='name...'\r\n                        />\r\n                    </div>\r\n\r\n                    <div className='col-12 col-md-10 mx-auto my-2'>\r\n                        <input\r\n                            name='email'\r\n                            value={email}\r\n                            onChange={HandleInputChange}\r\n                            type='email'\r\n                            className='form-control'\r\n                            required\r\n                            placeholder='email...'\r\n                        />\r\n                    </div>\r\n\r\n                    <div className='col-12 col-md-10 mx-auto my-2'>\r\n                        <input\r\n                            name='password'\r\n                            value={password}\r\n                            onChange={HandleInputChange}\r\n                            type='password'\r\n                            className='form-control'\r\n                            required\r\n                            placeholder='password...'\r\n                        />\r\n                    </div>\r\n\r\n                    <div className='col-md-10 mx-auto my-2'>\r\n                        <Link to={'/login'} className='text-white '>sing In</Link>\r\n                    </div>\r\n\r\n                    {\r\n                        (error.length !== 0) &&\r\n\r\n                        <div className='text-center text-warning'>\r\n                            <small>{error}</small>\r\n                        </div>\r\n                    }\r\n\r\n                    <div className='col-md-10 mx-auto my-2'>\r\n                        <button className='btn btn-primary'>\r\n                            Register\r\n                        </button>\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default RegisterPage\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANIAAACWCAMAAACcjiYKAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAA8UExURYW78IXe/Pzy+Ze94rzU7Hio2N3p9iElKX+w4f7//+z//8a78evm8YW7+d/Z8ND0/7zu/t/7/4W794K26rG8tbMAAARLSURBVHja7Z3rmqMgDIYFDyvKim3v/14XkoDYg9OZcZ4R9+NHVUTkJSGC8WmqP6dLFZCA9OtItmsKS92whWSbvm37wlLb1o15gaSbtr/dquLSzWM1T5G6vi+QR6jaenhE8iKqCk59390jdWUTBaZhjTSUTuSZ6jVSXTxRVWU2ogpqdysfqW9NhnQGIXmmZkHSZxBSPpoqr3dnIPJPpyEhNafQO28guoRUnwQpDSYgAQlIQAISkIAEJCABCUhAAhKQgAQkIAEJSEAC0kGRlDGzMWaiPWNsdb0Y63dGf6j5PG3LQqI0ys7okVKyclqXhkQNH8PB38FMHklzrjM6iCzkjoUhjdJo/2sISRhnoymL9bJApLAjUjoLkmN9WyPRQYEWj5FmkccKKVqPMsdSsHQ6CiYhMdNYlJQwewASkIAEpF9HChOXMa0PnqRrt+y7DyfWeen0/JpePdimjWee/gZSAHG87NGvzr+bnpX+CtJG772JJJU/u0epSPn1jqfPswk7YYYd52uayinTiYpKQacHY1VaNflitBQMx7Phizsq6e80rNa7hCS10Pbi51RacL6JxBXxWLjQFG2iaVrID+dFkpaRqMBI14RGubyvubQONFyNCrh8BS2tFFU9kZIrmunG2/HMcKZ5o90Bya6UITQ31M0NsUtBQmJFZbn4DJdPTUMhOnONPV6lKwjVF+D8Oayzpng7uks4oYxUsJ+UuKXzPRLpkiBNgiTvFlb3DqVlraFjZ8Qr6Nj/cL4SJL4dDyvHiuH0fmPJSyt1fo7kVUYvUuIGzlE4D0hRbO8juQUp5LMN3s3iPVU8xU+uOylNL5Ai7KJ4a6RNxfMFutirOz2XVuM1mgFF9mqNRAXD8Fjdmw2K5g4IVfiMe6RN8xCaovcw4vnsIRnxMdotXopb1vLYQB5e0dqqqIazGH6qKxrxO6QNIx6tyR5Ih0h57xSPJMo6LSzfQvqJdx5fexs9VfHt7bemrVgvAQlIQAISkIAEJCABCUhAAhKQgAQkIAHpvSQfo9kPi2Ul1Ljt6ft1JPY3fOLLTvUjLwj3RvpUrxeCJP7M9TfGvA1uFHIOOX2JDl6bv8oX9+/RkKLzYvHRWPI1/B00+WLZZ8YeGcW+2Qf37wGRxMGQvGbyRj76YtkNSF6+8akX7nhI8XPwib6WXLx9yX+0II9V5o89KtL1YkkayQIY/R6SOyySki8ecrPm7pGKUjxlxA8r7uNkLvw2Q4rmYXrwxx4LaZk9xG+LZ9lGI54ULw4yo9dG/FhIn0hO/2TtQAIS1ktAAhKQgAQkIAEJSEACEpCABCQgAQlIRSGd8I/sTxNuwCQkc76gECfRvHY6XYCVfhUG5wRiurXdOv5S+XY8D/5FSLYvm+mWh1+SwF8lhzKjYGbmMTybrouNlHW7DzmX4gJOfYlR9EIMvbp7Gb2xq/u2uNQ33XaMzaErLBlEQgUSkID0XyP9A78uuS1Pt2J/AAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARIAAAAfCAMAAAAcALJ7AAAAclBMVEX///9wcHC4uLj//9GecHCe0v/b29twcJ7R////0p7t7e3ouYfo//9whrrRoHBwoNGHuei6hnC66f///+jJycn/6bqecIdwcIeCgoKHcHCVlpWHcIe66dHR/9GHubq66eiecJ66uYeeubpwoLqHcJ6eoHB7Sj+pAAACaklEQVRo3u2ZDW/iMAyGHbYM2m4NLWWM3bbbff3/v3h+bYPRoYnbRluU9RWQxEmQ/NRO0pYmTboYXV0HKJ4YVh+OKBJPmy8oUwEJtKT/VhES5Sy93EXYtKAjzlZhV6p1/ickjhKu/EBHwd3zZ5lWYwSKn9uQT9RYBojLGi1FkBJE4LGYo/Wjw5HUmnNa5hM6hqSCq0taNfMFSunYtDAzibhDFpnX3S0SB9PWW54KQx2SlJSHHEkVDsOC1lv4qAMMCRuEmSHhOSQG7iTpPa9uShpFnjhAIjCYRgjpGAkqjgRlv0i6x25gKI4EEMxDtz5rniQMOJE4PSGhhzAGFN+EtcYOarQkX14dyX793TwdLq99IelCGByKI4lWhfuVkNEyWhj5JoxcARLfhPtCgjAxKBeq4Q+sCJOLhjIsEg+TYyhmvLGN6Ws1OUwcyoQEKsNeD45kpjJD+bWasz2QjiZB5ThAisD76317tJZGKU+b/V/o7JqNEyEF7yOfQuI951Y5NBBHgjMazur4JTQS/z7Kua361ejjpQpNcXzVYICc016uI4hSdXfbB5LZKEA8SlCuv7WrZkn8xWF01SSqwApPCYAH8CKs0iMn+qiQYh9RUo4CxJHALaIqoWl5gIvPH9TRFFIaFszueyO3zJHqROvfiz6QdKMAcSR2r5PA4BgJhw9SBUhg4QlP962OKvjWOGk1FxmSnUvvRYK5dcwSCdYQ6N2JQ/XL6yJLJFhE4bSgqdM/SN5eXvUdRn5IqLYn8kvdhG1PdSRvbcKWPTki+aCuBMnrYkICIcF0LS4S5Ybkg3cneIxvbzH8X3rVX8rvK1eVMnxnAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANIAAACdCAMAAAD2SdbJAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABCUExURZmZmaWlpc7q/Oz9/////4qKiuPj4yElKZGRkcXFxf3r0P3/9c+ZmZqZ15nG5f/45uXHme/YmZmZx5nY79bV17u7u/UbXZMAAARxSURBVHja7d2LdqIwEAbgGC6LCYIKvv+rbuaSAF5adyutoX/O6aIClc9MImHYxvzZXDEggQQSSL+V5Md9ZmWsPyL5vamqJrdSNZf6EWkf1pscS1Nd/D1Sv6vyBJGpaepbUt1kC5KKGq9Jfd6ihUlJu8xFZOoXpH1lsi/Nbk7yTZM/yVT1jLTfgihVE5PMJkim8onkK7MN0phI40ZIzSWRttGUUmMCCSSQQAIJJJBAAgkkkEACCSSQQAIJJJBAAultSYfCj2VZnozpwqJ0xtiyL0p/DE/7ltbLMisSSUrfygN/DKRUnK5+vWllkgsVFCihnItQXaGW2o44Vn/CP6fMAu8YKEQ6FxyBlisnvDAwSasrL1LLJHqgteTk1exJIrkluRx7PCENUh9XpNRp5EiiGHOxYhKJTa8X4asWJJBAAumXkTodJ1x/qdhwzj0+e17N37P3zh4e/Ibu+TOn/yGRxNKgYJifRtPL9tmhQkd7novbzR//Brsy6VCcrt9mCCcFT5Nkw+723OEnSekNaNxAGh3a1eExv33YjIcU4Xnn6zBQ0g3l+OKDgVSdjg757JyHHhxmtFvYw0rM2dUDLx4e4+gItZao/g4UUeGxdbK+K91sw9iU3LR73w4sl9CljWS3XsYkHKark6R99yLhOIyBF9566ItQQy4FDB/SQCGVXpVaPTGHXoxWfnqSOO50vYT5+iQ5LKfBTw4lDVQ71h2Kox64S/V6NeKT8a0/SiRrePVtumSR+qFvJNFna+OHH0mdH4vj4KhSLDcyN+sjr3tyR7vqGm4ztpfKWXSt30LSOAmMm8ALXXP4pH3h5EhIK8fm24XFaBjafgrGvuVacj9B4g6AD2nRPbCPwpFbtayKgcfPYg3IhSHeXC4hWR4tal0r5bsDLzbv2InzwRym/kmONsSS1UYhHcppOhvQa3j6hSutLl6i4HU/0pZeUaZO8JNv53xInW9/nvTSa29PXm5d97QV4yWQQAIJJJBAAgkkkEACCSSQQAIJJJDulnPx3L1o8+txh5RPfFMSHeuh+IdrfK/nrEFKF/I3ROLAipf+D8ul7YvyZB0vS8mNOWbNk7Nfvtl1BZJmiKxvJX/kUkJWsixO0zWSgKIfer0rJTm7yEO9DymmZWPDGqZErJA4U0P3vDJJ9oz5vy9nEVYhpbSs5t1jTtNqst/Kje8nJUmT6jQP9Y4kN0/Lhvai+dzPSMPbkmaZ3NStpcCLpEeB95Ykbj4xLcvLwbdxmUjaPcQuInUPb0eazh5iWrbT28FiJ54CL97lUPbLTvy9SP9Q7Ar/HwYkkDBeAgkkkEACCSSQQAIJJJBAAgkkkH4HadwIqZr+6nu9lT9kv59NN7CRGRTqaVKI3TbmuajKibSNKRR0AgWdM2YLc3c0iwlWQjU1m6mkOFnRJf/Jisz1LFm59xCzqb8iqdxlPWFRY+o7M85dMp6erdr5u5Po1bsqx5pqmsqMD2dvrC+myq40l/HjOTZ9nVnxmAkVJJBAAgkkkED6YvkLjkzd1iQhI78AAAAASUVORK5CYII=\"","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport imPerson from '../assets/image/person.png';\r\nimport imContainer from '../assets/image/container.png';\r\nimport imDB from '../assets/image/DB.png';\r\nimport imFlecha from '../assets/image/flecha.png';\r\nimport imsystExtern from '../assets/image/swext.png';\r\nimport imComponent from '../assets/image/component.png';\r\n\r\n\r\nconst Sidebar = (props) => {\r\n\r\n    const { show, HandleTypeModal, HandleTypeDiagram } = props\r\n    const [nivel, setnivel] = useState(\"Container\");\r\n\r\n    const HandleChange = (e) => {\r\n        HandleTypeDiagram(e.target.value);\r\n        setnivel(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex-shrink-0 p-3 bg-dark vh100 sidebar\" style={show ? { left: \"0\" } : { left: \"-300px\" }}>\r\n\r\n            <Link to={\"/\"} className='d-block text-center text-decoration-none fs-4 text-white pointer'>C4 Diagramas</Link>\r\n\r\n            <hr className='border border-white' />\r\n\r\n            <select className=\"form-select\" defaultValue={\"Container\"} onChange={HandleChange} >\r\n                <option value=\"Container\" >Container C4</option>\r\n                <option value=\"Component\">Componente C4</option>\r\n            </select>\r\n\r\n\r\n            {\r\n                (nivel === \"Container\")\r\n                    ?\r\n                    <ul className=\"list-unstyled ps-0 my-3 content-sidebar overflow-auto sidebar-scroll\">\r\n\r\n                        <li className='my-1 text-center'>\r\n                            <small className='text-white'>Person</small>\r\n                            <p onClick={() => HandleTypeModal(\"person\")} className='text-decoration-none d-block  text-center text-white pointer' data-bs-toggle=\"modal\" data-bs-target=\"#modal-create\">\r\n                                <img src={imPerson} height={30} alt={\"person\"} />\r\n                            </p>\r\n                        </li>\r\n\r\n                        <li className='my-1 text-center'>\r\n                            <small className='text-white'>Container</small>\r\n                            <p onClick={() => HandleTypeModal(\"container\")} className='text-decoration-none d-block  text-center text-white pointer' data-bs-toggle=\"modal\" data-bs-target=\"#modal-create\">\r\n                                <img src={imContainer} height={30} alt={\"container\"} />\r\n                            </p>\r\n                        </li>\r\n\r\n                        <li className='my-1 text-center'>\r\n                            <small className='text-white'>System_Ext</small>\r\n                            <p onClick={() => HandleTypeModal(\"system_extern\")} className='text-decoration-none d-block  text-center text-white pointer' data-bs-toggle=\"modal\" data-bs-target=\"#modal-create\">\r\n                                <img src={imsystExtern} height={30} alt={\"system_extern\"} />\r\n                            </p>\r\n                        </li>\r\n\r\n                        <li className='my-1 text-center'>\r\n                            <small className='text-white'>containerDB</small>\r\n                            <p onClick={() => HandleTypeModal(\"containerDB\")} className='text-decoration-none d-block  text-center text-white pointer' data-bs-toggle=\"modal\" data-bs-target=\"#modal-create\">\r\n                                <img src={imDB} height={30} alt={\"containerDB\"} />\r\n                            </p>\r\n                        </li>\r\n\r\n                        <li className='my-1 text-center'>\r\n                            <small className='text-white'>DrawRelation</small>\r\n                            <p onClick={() => HandleTypeModal(\"Relation\")} className='text-decoration-none d-block p-2 text-center text-white pointer' data-bs-toggle=\"modal\" data-bs-target=\"#modal-create\">\r\n                                <img src={imFlecha} height={20} alt={\"Relation\"} />\r\n                            </p>\r\n                        </li>\r\n\r\n                        <li className='my-1 text-center'>\r\n                            <p onClick={() => HandleTypeModal(\"SystemBoundary\")} className='text-decoration-none d-block p-2 text-center text-white pointer' data-bs-toggle=\"modal\" data-bs-target=\"#modal-create\">\r\n                                <small className='text-white'>DrawSystemBoundary</small>\r\n                            </p>\r\n                        </li>\r\n\r\n                        <li className='my-1 text-center'>\r\n                            <p onClick={() => HandleTypeModal(\"Eliminar\")} className='text-decoration-none d-block p-2 text-center text-white pointer' data-bs-toggle=\"modal\" data-bs-target=\"#modal-create\">\r\n                                <small className='text-white'>Eliminar</small>\r\n                            </p>\r\n                        </li>\r\n\r\n                    </ul>\r\n                    :\r\n                    <ul className=\"list-unstyled ps-0 my-3\">\r\n\r\n                        <li className='my-1 text-center'>\r\n                            <small className='text-white'>Container</small>\r\n                            <p onClick={() => HandleTypeModal(\"container\")} className='text-decoration-none d-block  text-center text-white pointer' data-bs-toggle=\"modal\" data-bs-target=\"#modal-create\">\r\n                                <img src={imContainer} height={30} alt={\"container\"} />\r\n                            </p>\r\n                        </li>\r\n\r\n                        <li className='my-1 text-center'>\r\n                            <small className='text-white'>containerDB</small>\r\n                            <p onClick={() => HandleTypeModal(\"containerDB\")} className='text-decoration-none d-block  text-center text-white pointer' data-bs-toggle=\"modal\" data-bs-target=\"#modal-create\">\r\n                                <img src={imDB} height={30} alt={\"containerDB\"} />\r\n                            </p>\r\n                        </li>\r\n\r\n                        <li className='my-1 text-center'>\r\n                            <small className='text-white'>System_Ext</small>\r\n                            <p onClick={() => HandleTypeModal(\"system_extern\")} className='text-decoration-none d-block  text-center text-white pointer' data-bs-toggle=\"modal\" data-bs-target=\"#modal-create\">\r\n                                <img src={imsystExtern} height={30} alt={\"system_extern\"} />\r\n                            </p>\r\n                        </li>\r\n\r\n                        <li className='my-1 text-center'>\r\n                            <small className='text-white'>Component</small>\r\n                            <p onClick={() => HandleTypeModal(\"component\")} className='text-decoration-none d-block  text-center text-white pointer' data-bs-toggle=\"modal\" data-bs-target=\"#modal-create\">\r\n                                <img src={imComponent} height={30} alt={\"component\"} />\r\n                            </p>\r\n                        </li>\r\n\r\n\r\n                        <li className='my-1 text-center'>\r\n                            <small className='text-white'>DrawRelation</small>\r\n                            <p onClick={() => HandleTypeModal(\"Relation\")} className='text-decoration-none d-block p-2 text-center text-white pointer' data-bs-toggle=\"modal\" data-bs-target=\"#modal-create\">\r\n                                <img src={imFlecha} height={20} alt={\"Relation\"} />\r\n                            </p>\r\n                        </li>\r\n\r\n                        <li className='my-1 text-center'>\r\n                            <p onClick={() => HandleTypeModal(\"SystemBoundary\")} className='text-decoration-none d-block p-2 text-center text-white pointer' data-bs-toggle=\"modal\" data-bs-target=\"#modal-create\">\r\n                                <small className='text-white'>DrawSystemBoundary</small>\r\n                            </p>\r\n                        </li>\r\n\r\n                        <li className='my-1 text-center'>\r\n                            <p onClick={() => HandleTypeModal(\"Eliminar\")} className='text-decoration-none d-block p-2 text-center text-white pointer' data-bs-toggle=\"modal\" data-bs-target=\"#modal-create\">\r\n                                <small className='text-white'>Eliminar</small>\r\n                            </p>\r\n                        </li>\r\n\r\n                    </ul>\r\n            }\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANIAAACWCAMAAACcjiYKAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABFUExURUON1f/08kON7UCGy////jx/wM3f7yElKUSGx5/A4EPK9mecz8Hy/+H//+HU1ZiN1vP//Zji/M7A1vPi6LaN1uHo9Y202oEy1wIAAASVSURBVHja7d3rmpsgEAZgTdASNa7H3P+ldmYY0OjGdnPoI/bzR7MqMb6ACI5PSX4dbklAAgkkkP6ONOaXyJZ83CKNN5vZ2JYsKy/NA1Jzy+w5iXA5W3v5lpTbOEGCyspxTbpk0YJ4sXZckvK4RXOTkkYbuYhM5T2ptEn0i28jEq128Yuo4WtmpPJ8AJIvJiE12SFI53IiHaLe8d1pDKSbPQQpyfJAOsal5C8mkEACCSSQQAIJJJBAAgkkkEACCSSQQAIJJJD2SyqatDXGdPQXfZg6OVVmbIwZaDVN3NY+NhJLTPqlfwxECkvtnB8wfZgkJz7wyulqOiKlvKFOKtPTSs1bh8hIg540/WuEVLutLZGurri6yK6lLyHxH1pKtdsaPYmqGRfOgsQrEbZ4jtRqedyRtHmglRhJ3NL1vmACSUzvF+FWCxJIIIF0VBLd8HkMIDfKN3Qui9kxTvlq9+n6oDPxcId0Hdc3tm1Sx9/iL7Wvd8WKWbacqv4tJDqxJ0iV+0718m1+N6T58WQENzCPOzg8rusoTa696cp9tqmm0tSn63g12qOrJZPcLjoV/YbrGHHChodS7vB8pvwLqZL8CJivgjz9khxmzhMkPQmXWymf+JBIT03OSQasPPqhbpz03DrpvdEKpe4T2cHjpYLxi1LiRLqDh4J9SOiGhr1uT4XUSu71mp5+lj6lqJ8iDXc1h49fSW+0luMVTS1n6K47+pGWU/EO/i3aIDROvSS5I5OLaZJj/XT4sL3gTKldRaWjymfFo6/e5fZrpeS+TQetfG0QklS61J1wm7pU9I8OKHpJ+C3JJUj9dRUSCqXS7adrxySp/pQJ8tm6CuJ/6dlriQ7Xar5vkKqJ5NuTh6RW17dJdPyJZCYSbfcl9+MWrw0t3qziJRsVL5TSsE0q/H0hVLx70mbFoyOMkpntS/elqXm4Iy2bByVJagJPpGZ2a+P2w12SaqNSWZK2mgc+I8E8Q3Kts+Tw1IjPSbnuDY241nB5XFJPmU/f7gOr8E/1+lkjviBtNeKJAJ8m/WEw3v3zTlybTj8cPcndy5rau54gmXRnpaS12T+l/XG3FeMlkEACCSSQQAIJJJBAAgkkkEACCSSQfrLoy2j1H5PNUhTDB56avZPkAiY/eLOzeP8rkx8gTQGJ45AkbqIP6PUB/vQgPzcSInLR2Fn4dhnn3RfJhVE6eXztY24hGqsRUX6L0oVh5FpaxXl3SPLxO18Jv43GFvy+uJBWcd79kfzr4J28DPAodCnkwX/cxXl3dy3VUhqhBXgUYF6Sqt2SCgly3jdr62jsg4q3S5Lcl7g54AtDo7DraKxvHtxbCKs47x57D4WGd1t9x3gVja0k8hrCt8s4b3x9vJfbaZBAwngJJJBAAgkkkEACCSSQQAIJJJBA+m9Jt+ORLsf7j+wPM91AE0jmeJNCHGQKBVfvlDQeoZisvZsG5wjFpIUU5l+Kf2ofe1tMKRX9BExh+qVp4q/RxlxOZ1ua9fRsTRlvG2Gz2/fzAuY2O59jLKGszB/O3pjfbBbdYm/59hyb45hHtYwNZkIFCaTPLL8ByyXE1vOlSuQAAAAASUVORK5CYII=\"","import { useCallback } from \"react\";\r\n\r\nexport const useDiagrama = () => {\r\n\r\n    const DrawContainer = (id, title, tecnologia, description) => {\r\n        return `Container(${id},\"${title}\",\"${tecnologia}\",\"${description}\")\\n`;\r\n    }\r\n\r\n    const DrawContainerDB = (id, title, tecnologia, description) => {\r\n        return `ContainerDb(${id},\"${title}\",\"${tecnologia}\",\"${description}\")\\n`;\r\n    }\r\n\r\n    const DrawSystemExtern = (id, title, description) => {\r\n        return `System_Ext(${id},\"${title}\",\"${description}\")\\n`;\r\n    }\r\n\r\n    const DrawRelation = (startId, endId, tecnologia) => {\r\n        return `Rel(${startId},${endId},\"Uses\",\"${tecnologia}\")\\n`;\r\n    }\r\n\r\n    const DrawPerson = (id, title, description) => {\r\n        return `Person(${id},${title},\"${description}\")\\n`;\r\n    }\r\n\r\n    const DrawComponent = (id, title, tecnologia, description) => {\r\n        return `Component(${id},\"${title}\",\"${tecnologia}\",\"${description}\")\\n`;\r\n    }\r\n\r\n    // DrawSystemBoundary se crea de manera directa\r\n\r\n    const executeDraw = useCallback((name, params) => {\r\n        switch (name) {\r\n            case \"DrawPerson\":\r\n                return DrawPerson(...params);\r\n            case \"DrawContainer\":\r\n                return DrawContainer(...params);\r\n            case \"DrawContainerDB\":\r\n                return DrawContainerDB(...params);\r\n            case \"DrawSystemExtern\":\r\n                return DrawSystemExtern(...params);\r\n            case \"DrawRelation\":\r\n                return DrawRelation(...params);\r\n            case \"DrawComponent\":\r\n                return DrawComponent(...params);\r\n            default:\r\n                console.log(\"Error nombre useDiagram\");\r\n                return \"\";\r\n        }\r\n    }, []);\r\n\r\n    return {\r\n        DrawContainer,\r\n        DrawContainerDB,\r\n        DrawSystemExtern,\r\n        DrawRelation,\r\n        DrawPerson,\r\n        executeDraw,\r\n        DrawComponent\r\n    }\r\n\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { useParams } from 'react-router';\r\nimport socketContext from '../context/socketContext';\r\nimport { useForm } from '../hooks/useForm';\r\n\r\nexport const FormComponent = (props) => {\r\n\r\n    //@params : id, title, tecnologia, description\r\n\r\n    const { DrawComponent, DrawDiagram, setSourceRel } = props;\r\n    const { idsala } = useParams();\r\n    const { socket } = useContext(socketContext);\r\n\r\n    const { value, HandleInputChange, reset } = useForm({\r\n        id: \"\",\r\n        title: \"\",\r\n        tecnologia: \"\",\r\n        description: \"\"\r\n    });\r\n\r\n    const { id, title, tecnologia, description } = value;\r\n\r\n    const HandleClikSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        setSourceRel((rels) => [...rels, id]);\r\n\r\n        DrawDiagram(DrawComponent(id, title, tecnologia, description));\r\n\r\n        socket.emit(\"draw-figure\", {\r\n            idsala,\r\n            element: \"DrawComponent\",\r\n            params: [id, title, tecnologia, description],\r\n            idElement: id\r\n        });\r\n\r\n        reset();\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={HandleClikSubmit}>\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='idName'\r\n                    className='form-control'\r\n                    value={id}\r\n                    name=\"id\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='title'\r\n                    className='form-control'\r\n                    value={title}\r\n                    name=\"title\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n\r\n\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='tecnologia'\r\n                    className='form-control'\r\n                    value={tecnologia}\r\n                    name=\"tecnologia\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='description'\r\n                    className='form-control'\r\n                    value={description}\r\n                    name=\"description\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div className='my-2'>\r\n                <button type=\"button\" className=\"btn btn-secondary mx-1\" data-bs-dismiss=\"modal\">Close</button>\r\n                <button className=\"btn btn-primary mx-1\" data-bs-dismiss=\"modal\" >Save</button>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { useParams } from 'react-router-dom';\r\nimport socketContext from '../context/socketContext';\r\nimport { useForm } from '../hooks/useForm';\r\n\r\nexport const FormContainer = (props) => {\r\n\r\n    //@params : id, title, tecnologia, description\r\n\r\n    const { DrawContainer, DrawDiagram, setSourceRel } = props;\r\n    const { idsala } = useParams();\r\n    const { socket } = useContext(socketContext);\r\n\r\n    const { value, HandleInputChange, reset } = useForm({\r\n        id: \"\",\r\n        title: \"\",\r\n        tecnologia: \"\",\r\n        description: \"\"\r\n    });\r\n\r\n    const { id, title, tecnologia, description } = value;\r\n\r\n    const HandleClikSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        setSourceRel((rels) => [...rels, id]);\r\n\r\n        DrawDiagram(DrawContainer(id, title, tecnologia, description));\r\n\r\n        socket.emit(\"draw-figure\", {\r\n            idsala,\r\n            element: \"DrawContainer\",\r\n            params: [id, title, tecnologia, description],\r\n            idElement: id\r\n        });\r\n\r\n        reset();\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={HandleClikSubmit}>\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='idName'\r\n                    className='form-control'\r\n                    value={id}\r\n                    name=\"id\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='title'\r\n                    className='form-control'\r\n                    value={title}\r\n                    name=\"title\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='tecnologia'\r\n                    className='form-control'\r\n                    value={tecnologia}\r\n                    name=\"tecnologia\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='description'\r\n                    className='form-control'\r\n                    value={description}\r\n                    name=\"description\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div className='my-2'>\r\n                <button type=\"button\" className=\"btn btn-secondary mx-1\" data-bs-dismiss=\"modal\">Close</button>\r\n                <button className=\"btn btn-primary mx-1\" data-bs-dismiss=\"modal\" >Save</button>\r\n            </div>\r\n\r\n        </form>\r\n    );\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { useForm } from '../hooks/useForm';\r\nimport { useParams } from 'react-router-dom';\r\nimport socketContext from '../context/socketContext';\r\n\r\nexport const FormContainerDB = (props) => {\r\n\r\n    //@params : id, title, tecnologia, description\r\n\r\n    const { DrawContainerDB, DrawDiagram, setSourceRel } = props;\r\n    const { idsala } = useParams();\r\n    const { socket } = useContext(socketContext);\r\n\r\n    const { value, HandleInputChange, reset } = useForm({\r\n        id: \"\",\r\n        title: \"\",\r\n        tecnologia: \"\",\r\n        description: \"\"\r\n    });\r\n\r\n    const { id, title, tecnologia, description } = value;\r\n\r\n    const HandleClikSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        setSourceRel((rels) => [...rels, id]);\r\n\r\n        DrawDiagram(DrawContainerDB(id, title, tecnologia, description));\r\n\r\n        socket.emit(\"draw-figure\", {\r\n            idsala,\r\n            element: \"DrawContainerDB\",\r\n            params: [id, title, tecnologia, description],\r\n            idElement: id\r\n        });\r\n\r\n        reset();\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={HandleClikSubmit}>\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='idName'\r\n                    className='form-control'\r\n                    value={id}\r\n                    name=\"id\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='title'\r\n                    className='form-control'\r\n                    value={title}\r\n                    name=\"title\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n\r\n\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='tecnologia'\r\n                    className='form-control'\r\n                    value={tecnologia}\r\n                    name=\"tecnologia\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='description'\r\n                    className='form-control'\r\n                    value={description}\r\n                    name=\"description\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div className='my-2'>\r\n                <button type=\"button\" className=\"btn btn-secondary mx-1\" data-bs-dismiss=\"modal\">Close</button>\r\n                <button className=\"btn btn-primary mx-1\" data-bs-dismiss=\"modal\" >Save</button>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { useParams } from 'react-router';\r\nimport socketContext from '../context/socketContext';\r\nimport { useForm } from '../hooks/useForm';\r\n\r\nexport const FormDelete = (props) => {\r\n\r\n    const { idsala } = useParams();\r\n    const { socket } = useContext(socketContext);\r\n    const { sourceRel, setsourceDiagram, DrawDiagram, setSourceRel } = props;\r\n\r\n    const { value, HandleInputChange, reset } = useForm({\r\n        eliminar: \"option\"\r\n    });\r\n\r\n    const { eliminar } = value;\r\n\r\n    const HandleClikSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        let regexFind = new RegExp(`\\\\S*${eliminar}\\\\S*\\n`, \"gi\");\r\n        let regexCierre = new RegExp(`}\\n`, \"gi\");\r\n\r\n        if (eliminar.includes('limit')) {\r\n\r\n            setsourceDiagram((dataSource) => {\r\n\r\n                let res = dataSource.replace(regexFind, \"\");\r\n                res = res.replace(regexCierre, \"\")\r\n                console.log(res);\r\n                return res;\r\n\r\n            });\r\n\r\n        } else {\r\n\r\n            setsourceDiagram((dataSource) => {\r\n\r\n                let res = dataSource.replace(regexFind, \"\");\r\n                console.log(res);\r\n                return res;\r\n\r\n            });\r\n\r\n        }\r\n\r\n        // Eliminando id \r\n        setSourceRel((ArrayIds) => {\r\n            let idFilters = ArrayIds.filter((idRel) => idRel !== eliminar);\r\n            return idFilters;\r\n        });\r\n\r\n        // Params por Defecto\r\n        DrawDiagram();\r\n\r\n        socket.emit(\"eliminar-element\", {\r\n            idsala,\r\n            idElement: eliminar\r\n        });\r\n\r\n        reset();\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={HandleClikSubmit}>\r\n            <div className='my-2'>\r\n                <select name={\"eliminar\"} className=\"form-select\" defaultValue={eliminar} onChange={HandleInputChange}>\r\n\r\n                    <option value=\"option\">Option</option>\r\n\r\n                    {\r\n                        sourceRel.map((rel) => (\r\n                            <option key={rel} value={rel}>{rel}</option>\r\n                        ))\r\n                    }\r\n\r\n                </select>\r\n            </div>\r\n\r\n            <div className='my-2'>\r\n                <button type=\"button\" className=\"btn btn-secondary mx-1\" data-bs-dismiss=\"modal\">Close</button>\r\n                <button className=\"btn btn-primary mx-1\" data-bs-dismiss=\"modal\" >Eliminar</button>\r\n            </div>\r\n        </form>\r\n    )\r\n\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { useForm } from '../hooks/useForm';\r\nimport { socketContext } from '../context/socketContext';\r\nimport { useParams } from 'react-router';\r\n\r\nconst FormPerson = (props) => {\r\n\r\n    //@params : id, title, description\r\n\r\n    const { DrawPerson, DrawDiagram, setSourceRel } = props;\r\n    const { socket } = useContext(socketContext);\r\n    const { idsala } = useParams();\r\n\r\n    const { value, HandleInputChange, reset } = useForm({\r\n        id: \"\",\r\n        title: \"\",\r\n        description: \"\"\r\n    });\r\n\r\n    const { id, title, description } = value;\r\n\r\n    const HandleClikSubmit = (e) => {\r\n\r\n        e.preventDefault();\r\n\r\n        setSourceRel((rels) => [...rels, id]);\r\n\r\n        DrawDiagram(DrawPerson(id, title, description));\r\n\r\n        socket.emit(\"draw-figure\", {\r\n            idsala,\r\n            element: \"DrawPerson\",\r\n            params: [id, title, description],\r\n            idElement: id\r\n        });\r\n\r\n        reset();\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={HandleClikSubmit}>\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='idName'\r\n                    className='form-control'\r\n                    value={id}\r\n                    name=\"id\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='title'\r\n                    className='form-control'\r\n                    value={title}\r\n                    name=\"title\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='description'\r\n                    className='form-control'\r\n                    value={description}\r\n                    name=\"description\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div className='my-2'>\r\n                <button type=\"button\" className=\"btn btn-secondary mx-1\" data-bs-dismiss=\"modal\">Close</button>\r\n                <button className=\"btn btn-primary mx-1\" data-bs-dismiss=\"modal\" >Save</button>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default FormPerson\r\n","import React, { useContext } from 'react'\r\nimport { useParams } from 'react-router';\r\nimport socketContext from '../context/socketContext';\r\nimport { useForm } from '../hooks/useForm';\r\n\r\n\r\nexport const FormRelation = (props) => {\r\n\r\n    // @params startId, endId, tecnologia\r\n\r\n    const { DrawRelation, DrawDiagram, sourceRel } = props;\r\n    const { socket } = useContext(socketContext);\r\n    const { idsala } = useParams();\r\n\r\n    const { value, HandleInputChange, reset } = useForm({\r\n        start: \"option\",\r\n        end: \"option\",\r\n        comment: \"\"\r\n    });\r\n\r\n    const { start, end, comment } = value;\r\n\r\n    const HandleClikSubmit = (e) => {\r\n        e.preventDefault();\r\n        DrawDiagram(DrawRelation(start, end, comment));\r\n\r\n        socket.emit(\"draw-figure\", {\r\n            idsala,\r\n            element: \"DrawRelation\",\r\n            params: [start, end, comment],\r\n            idElement: null\r\n        });\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={HandleClikSubmit}>\r\n            <div className='my-2'>\r\n                <select name={\"start\"} className=\"form-select\" defaultValue={start} onChange={HandleInputChange}>\r\n\r\n                    <option value=\"option\">Option</option>\r\n\r\n                    {\r\n                        sourceRel.map((rel) => (\r\n                            <option key={rel} value={rel}>{rel}</option>\r\n                        ))\r\n                    }\r\n\r\n                </select>\r\n            </div>\r\n            <div className='my-2'>\r\n                <select name={\"end\"} className=\"form-select\" defaultValue={end} onChange={HandleInputChange}>\r\n\r\n                    <option value=\"option\">Option</option>\r\n\r\n                    {\r\n                        sourceRel.map((rel) => (\r\n                            <option key={rel} value={rel}>{rel}</option>\r\n                        ))\r\n                    }\r\n\r\n                </select>\r\n            </div>\r\n\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='comment'\r\n                    className='form-control'\r\n                    value={comment}\r\n                    name=\"comment\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div className='my-2'>\r\n                <button type=\"button\" className=\"btn btn-secondary mx-1\" data-bs-dismiss=\"modal\">Close</button>\r\n                <button className=\"btn btn-primary mx-1\" data-bs-dismiss=\"modal\" >Save</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { useParams } from 'react-router';\r\nimport socketContext from '../context/socketContext';\r\nimport { useForm } from '../hooks/useForm';\r\n\r\nexport const FormSystemBoundary = (props) => {\r\n\r\n    //@params : id, title\r\n\r\n    const { DrawDiagram, setSourceRel } = props;\r\n    const { socket } = useContext(socketContext);\r\n    const { idsala } = useParams();\r\n\r\n    const { value, HandleInputChange, reset } = useForm({\r\n        id: \"\",\r\n        title: \"\",\r\n    });\r\n\r\n    const { id, title } = value;\r\n\r\n    const HandleClikSubmit = (e) => {\r\n\r\n        e.preventDefault();\r\n\r\n        let limit = \"limit\" + id;\r\n\r\n        setSourceRel((rels) => [...rels, limit]);\r\n\r\n        DrawDiagram(\"\", { id: limit, title });\r\n\r\n        socket.emit(\"draw-figure\", {\r\n            idsala,\r\n            element: \"DrawSystemBoundary\",\r\n            params: [limit, title],\r\n            idElement: limit\r\n        });\r\n\r\n        reset();\r\n\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={HandleClikSubmit}>\r\n\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='idName'\r\n                    className='form-control'\r\n                    value={id}\r\n                    name=\"id\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='title'\r\n                    className='form-control'\r\n                    value={title}\r\n                    name=\"title\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div className='my-2'>\r\n                <button type=\"button\" className=\"btn btn-secondary mx-1\" data-bs-dismiss=\"modal\">Close</button>\r\n                <button className=\"btn btn-primary mx-1\" data-bs-dismiss=\"modal\" >Save</button>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n\r\n}\r\n","import React, { useContext } from 'react'\r\nimport { useParams } from 'react-router';\r\nimport socketContext from '../context/socketContext';\r\nimport { useForm } from '../hooks/useForm';\r\n\r\nexport const FormSystemExtern = (props) => {\r\n    //@params : id, title, description\r\n\r\n    const { DrawSystemExtern, DrawDiagram, setSourceRel } = props;\r\n    const { socket } = useContext(socketContext);\r\n    const { idsala } = useParams();\r\n\r\n    const { value, HandleInputChange, reset } = useForm({\r\n        id: \"\",\r\n        title: \"\",\r\n        description: \"\"\r\n    });\r\n\r\n    const { id, title, description } = value;\r\n\r\n    const HandleClikSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        setSourceRel((rels) => [...rels, id]);\r\n\r\n        DrawDiagram(DrawSystemExtern(id, title, description));\r\n\r\n        socket.emit(\"draw-figure\", {\r\n            idsala,\r\n            element: \"DrawSystemExtern\",\r\n            params: [id, title, description],\r\n            idElement: id\r\n        });\r\n\r\n        reset();\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={HandleClikSubmit}>\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='idName'\r\n                    className='form-control'\r\n                    value={id}\r\n                    name=\"id\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='title'\r\n                    className='form-control'\r\n                    value={title}\r\n                    name=\"title\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div className='my-2'>\r\n                <input\r\n                    type='text'\r\n                    placeholder='description'\r\n                    className='form-control'\r\n                    value={description}\r\n                    name=\"description\"\r\n                    onChange={HandleInputChange}\r\n                />\r\n            </div>\r\n\r\n            <div className='my-2'>\r\n                <button type=\"button\" className=\"btn btn-secondary mx-1\" data-bs-dismiss=\"modal\">Close</button>\r\n                <button className=\"btn btn-primary mx-1\" data-bs-dismiss=\"modal\" >Save</button>\r\n            </div>\r\n\r\n        </form>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { useDiagrama } from '../hooks/useDiagrama';\r\nimport { FormComponent } from './FormComponent';\r\nimport { FormContainer } from './FormContainer';\r\nimport { FormContainerDB } from './FormContainerDB';\r\nimport { FormDelete } from './FormDelete';\r\nimport FormPerson from './FormPerson';\r\nimport { FormRelation } from './FormRelation';\r\nimport { FormSystemBoundary } from './FormSystemBoundary';\r\nimport { FormSystemExtern } from './FormSystemExtern';\r\n\r\nconst Modal = (props) => {\r\n\r\n    const { type, DrawDiagram, setSourceRel, sourceRel, setsourceDiagram } = props;\r\n\r\n    return (\r\n        <div className=\"modal fade\" id=\"modal-create\" aria-hidden=\"true\">\r\n\r\n            <div className=\"modal-dialog\">\r\n\r\n                <div className=\"modal-content\">\r\n\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title\">Modal {type}</h5>\r\n                        <button type=\"button\" className=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                    </div>\r\n\r\n                    <div className=\"modal-body\">\r\n                        <RenderSwitch type={type} DrawDiagram={DrawDiagram} setSourceRel={setSourceRel} sourceRel={sourceRel} setsourceDiagram={setsourceDiagram} />\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst RenderSwitch = (props) => {\r\n\r\n    const { DrawContainer, DrawContainerDB, DrawSystemExtern, DrawPerson, DrawRelation, DrawComponent } = useDiagrama();\r\n\r\n    const { type, DrawDiagram, setSourceRel, sourceRel, setsourceDiagram } = props;\r\n\r\n\r\n    switch (type) {\r\n        case \"load\":\r\n            return <div className='text-center'><span className=\"text-center spinner-border text-primary\" /></div>;\r\n\r\n        case \"person\":\r\n            return <FormPerson DrawPerson={DrawPerson} DrawDiagram={DrawDiagram} setSourceRel={setSourceRel} />;\r\n\r\n        case \"container\":\r\n            return <FormContainer DrawContainer={DrawContainer} DrawDiagram={DrawDiagram} setSourceRel={setSourceRel} />;\r\n\r\n        case \"system_extern\":\r\n            return <FormSystemExtern DrawSystemExtern={DrawSystemExtern} DrawDiagram={DrawDiagram} setSourceRel={setSourceRel} />\r\n\r\n        case \"containerDB\":\r\n            return <FormContainerDB DrawContainerDB={DrawContainerDB} DrawDiagram={DrawDiagram} setSourceRel={setSourceRel} />\r\n\r\n        case \"component\":\r\n            return <FormComponent DrawComponent={DrawComponent} DrawDiagram={DrawDiagram} setSourceRel={setSourceRel} />\r\n\r\n        case \"SystemBoundary\":\r\n            return <FormSystemBoundary DrawDiagram={DrawDiagram} setSourceRel={setSourceRel} />\r\n\r\n        case \"Eliminar\":\r\n            return <FormDelete sourceRel={sourceRel} setSourceRel={setSourceRel} DrawDiagram={DrawDiagram} setsourceDiagram={setsourceDiagram} />\r\n\r\n        case \"Relation\":\r\n            return <FormRelation DrawRelation={DrawRelation} DrawDiagram={DrawDiagram} sourceRel={sourceRel} />\r\n\r\n        default:\r\n            return <small>error</small>;\r\n    }\r\n}\r\n\r\nexport default Modal\r\n","export const textEncode = (str) => {\r\n    if (window.TextEncoder) {\r\n        return new TextEncoder('utf-8').encode(str);\r\n    }\r\n    var utf8 = unescape(encodeURIComponent(str));\r\n    var result = new Uint8Array(utf8.length);\r\n    for (var i = 0; i < utf8.length; i++) {\r\n        result[i] = utf8.charCodeAt(i);\r\n    }\r\n    return result;\r\n}","import React, { useCallback, useContext, useEffect, useRef, useState } from 'react'\r\nimport { useHistory } from 'react-router-dom';\r\nimport pako from 'pako';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faBars } from '@fortawesome/free-solid-svg-icons'\r\nimport Sidebar from '../../components/Sidebar'\r\nimport Modal from '../../components/Modal'\r\nimport { textEncode } from '../../helpers/helpers'\r\nimport { useSala } from '../../hooks/useSala';\r\nimport { apiDiagrama } from '../../api/apiDiagrama';\r\nimport socketContext from '../../context/socketContext';\r\nimport { useDiagrama } from '../../hooks/useDiagrama';\r\n\r\nconst BoardPage = () => {\r\n\r\n    const history = useHistory();\r\n    const { socket } = useContext(socketContext);\r\n    const [showbar, setShowbar] = useState(false);\r\n    const [typeModal, setTypeModal] = useState(\"load\");\r\n    const [typeDiagram, settypeDiagram] = useState(\"Container\");\r\n    const { executeDraw } = useDiagrama();\r\n    const { sala, error, isAnfitrion, validate } = useSala();\r\n\r\n    //Save DB\r\n    const [sourceDiagram, setsourceDiagram] = useState(\"\");\r\n    const [sourceRel, setSourceRel] = useState([]);\r\n\r\n    const refImage = useRef();\r\n\r\n    const HandleTypeModal = (type) => {\r\n        setTypeModal(type);\r\n    }\r\n\r\n    const HandleTypeDiagram = (type) => {\r\n        settypeDiagram(type);\r\n    }\r\n\r\n    const FinalizarRoom = async () => {\r\n\r\n        const res = await apiDiagrama(`/sala/finalize/${sala._id}`);\r\n        if (!res.ok) {\r\n            console.log(\"Error no se pudo cerrar la sala\");\r\n            return;\r\n        }\r\n        // Finalizar sala\r\n        socket.emit(\"finalizar-sala\", { idSala: sala._id });\r\n        history.replace('/');\r\n    }\r\n\r\n    //Button Dowload\r\n    const HandleClickDowload = () => {\r\n        try {\r\n            fetch(refImage.current.src)\r\n                .then(resp => resp.blob())\r\n                .then(blob => {\r\n                    const url = window.URL.createObjectURL(blob);\r\n                    const a = document.createElement('a');\r\n                    a.style.display = 'none';\r\n                    a.href = url;\r\n                    a.download = \"DiagramaC4\";\r\n                    document.body.appendChild(a);\r\n                    a.click();\r\n                    window.URL.revokeObjectURL(url);\r\n                });\r\n\r\n        } catch (errr) {\r\n            alert(\"Nose pudo descargar la imagen!!!\");\r\n        }\r\n    }\r\n\r\n    //Button Borrar\r\n    const HandleBorraBoard = () => {\r\n        setsourceDiagram(\"\");\r\n        setSourceRel([]);\r\n        DrawDiagram();\r\n        socket.emit(\"borrar-board\", { idSala: sala._id });\r\n    }\r\n\r\n    const DrawDiagram = useCallback((element = \"\", SystemBoundary = null) => {\r\n\r\n        let source = `@startuml\\n!include C4_${typeDiagram}.puml\\n`;\r\n\r\n        if (SystemBoundary) {\r\n\r\n            const { id, title } = SystemBoundary;\r\n\r\n            setsourceDiagram((sourceD) => {\r\n\r\n                let DrawSystem_Boundary = `System_Boundary(${id},\"${title}\"){\\n` + sourceD + `}\\n`;\r\n                source += DrawSystem_Boundary;\r\n                source += \"@enduml\";\r\n\r\n                let data = textEncode(source);\r\n                let compressed = pako.deflate(data, { level: 9, to: 'string' });\r\n                let result = btoa(compressed).replace(/\\+/g, '-').replace(/\\//g, '_');\r\n                refImage.current.src = `https://kroki.io/plantuml/svg/${result}`;\r\n\r\n                return DrawSystem_Boundary;\r\n            })\r\n\r\n            return;\r\n        }\r\n\r\n\r\n        setsourceDiagram((sourceD) => {\r\n\r\n            source += sourceD;\r\n            source += element;\r\n\r\n            source += \"@enduml\";\r\n\r\n            let data = textEncode(source);\r\n            let compressed = pako.deflate(data, { level: 9, to: 'string' });\r\n            let result = btoa(compressed).replace(/\\+/g, '-').replace(/\\//g, '_');\r\n            refImage.current.src = `https://kroki.io/plantuml/svg/${result}`;\r\n\r\n            return sourceD + element\r\n        });\r\n\r\n    }, [typeDiagram]);\r\n\r\n    // Save Data Board\r\n    const HandleSaveBoard = async () => {\r\n        const res = await apiDiagrama(`/sala/setData/${sala._id}`, \"POST\", { board: sourceDiagram, links: sourceRel });\r\n        if (!res.ok) {\r\n            alert(\"No se pudo guardar la data !!!\");\r\n            return;\r\n        }\r\n        alert(\"Se guardo los datos de la pizarra !!!\")\r\n    }\r\n\r\n\r\n    // Solicitud Anfitrion [On]\r\n    useEffect(() => {\r\n\r\n        socket.on('solicitud-anfitrion', (args) => {\r\n            const { idUser, message, idSala } = args;\r\n            if (window.confirm(message)) {\r\n                socket.emit('solicitud-aceptada', { idUser, idSala });\r\n            } else {\r\n                socket.emit('solicitud-denegada', { idUser, idSala });\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            socket.removeAllListeners(\"solicitud-anfitrion\");\r\n        }\r\n\r\n    }, [socket])\r\n\r\n\r\n    // Agregar ala sala join para que escuchen events [emit]\r\n    useEffect(() => {\r\n\r\n        (sala) && socket.emit('agregar-sala', { idSala: sala._id })\r\n\r\n    }, [socket, sala]);\r\n\r\n\r\n    //Close Sala [On]\r\n    useEffect(() => {\r\n\r\n        socket.on('close-sala', (args) => {\r\n            socket.emit('leave-sala', args);\r\n            history.replace(\"/\");\r\n        });\r\n\r\n        return () => {\r\n            socket.removeAllListeners(\"close-sala\");\r\n        }\r\n\r\n    }, [socket, history]);\r\n\r\n\r\n    //Borrar Board [On]\r\n    useEffect(() => {\r\n\r\n        socket.on(\"borrar-board-client\", () => {\r\n            setsourceDiagram(\"\");\r\n            setSourceRel([]);\r\n            DrawDiagram();\r\n        });\r\n\r\n        return () => {\r\n            socket.removeAllListeners(\"borrar-board-client\");\r\n        }\r\n\r\n    }, [socket, DrawDiagram]);\r\n\r\n    // Draw Figure [On]\r\n\r\n    useEffect(() => {\r\n\r\n        socket.on(\"draw-figure-sala\", (args) => {\r\n\r\n            // params[0] :id\r\n            const { element, params, idElement } = args;\r\n\r\n            if (idElement) {\r\n                setSourceRel((rel) => [...rel, idElement]);\r\n            }\r\n\r\n            if (element === \"DrawSystemBoundary\") {\r\n                const [id, title] = params;\r\n                DrawDiagram(\"\", { id, title });\r\n                return;\r\n            }\r\n\r\n            DrawDiagram(executeDraw(element, params));\r\n\r\n        });\r\n\r\n        return () => {\r\n            socket.removeAllListeners(\"draw-figure-sala\");\r\n        }\r\n\r\n    }, [socket, executeDraw, DrawDiagram]);\r\n\r\n\r\n    // Ejecuta cuado se cambia typeDiagram\r\n    // Se carga los datos guardados de la sala \r\n\r\n    useEffect(() => {\r\n\r\n        if (sala && refImage.current) {\r\n            setsourceDiagram(sala.board);\r\n            setSourceRel(sala.links);\r\n            DrawDiagram();\r\n        }\r\n\r\n    }, [sala, DrawDiagram]);\r\n\r\n    // Eliminar element [On]\r\n\r\n    useEffect(() => {\r\n\r\n        socket.on(\"eliminar-element-client\", (args) => {\r\n\r\n            const { idElement } = args;\r\n\r\n            let regexFind = new RegExp(`\\\\S*${idElement}\\\\S*\\n`, \"gi\");\r\n            let regexCierre = new RegExp(`}\\n`, \"gi\");\r\n\r\n            if (idElement.includes('limit')) {\r\n\r\n                setsourceDiagram((dataSource) => {\r\n\r\n                    let res = dataSource.replace(regexFind, \"\");\r\n                    res = res.replace(regexCierre, \"\")\r\n                    return res;\r\n\r\n                });\r\n\r\n            } else {\r\n\r\n                setsourceDiagram((dataSource) => {\r\n\r\n                    let res = dataSource.replace(regexFind, \"\");\r\n                    return res;\r\n\r\n                });\r\n\r\n            }\r\n\r\n            // Eliminando id \r\n            setSourceRel((ArrayIds) => {\r\n                let idFilters = ArrayIds.filter((idRel) => idRel !== idElement);\r\n                return idFilters;\r\n            });\r\n\r\n            // Params por Defecto\r\n            DrawDiagram();\r\n\r\n        })\r\n\r\n        return () => {\r\n            socket.removeAllListeners(\"eliminar-element-client\");\r\n        }\r\n\r\n    }, [socket, DrawDiagram]);\r\n\r\n    if (validate) {\r\n        return <h5 className='text-center'>Cargando !!!</h5>\r\n    }\r\n\r\n    if (error.length > 0) {\r\n        return <h5 className='text-center'>{error}</h5>\r\n    }\r\n\r\n    return (\r\n\r\n        <>\r\n            <Sidebar\r\n                show={showbar}\r\n                HandleTypeModal={HandleTypeModal}\r\n                HandleTypeDiagram={HandleTypeDiagram}\r\n            />\r\n\r\n            <div className='container-fluid'>\r\n\r\n                <header className='row border'>\r\n                    <div className='col-md-11'>\r\n                        <h2 className='text-center'>C4 Diagramas</h2>\r\n                    </div>\r\n                    <div className='col-md-1 text-center my-auto'>\r\n                        <FontAwesomeIcon\r\n                            icon={faBars}\r\n                            className='pointer'\r\n                            onClick={() => setShowbar(!showbar)}\r\n                        />\r\n                    </div>\r\n                </header>\r\n\r\n                <section className='row mt-3'>\r\n\r\n                    <div className='col-12 col-md-10 mx-auto shadow board text-center'>\r\n                        <img ref={refImage} src={\"x\"} alt={\"C4 diagramas\"} className={(sourceRel.length) > 2 ? { height: \"600px\", maxWidth: \"1000px\" } : \"\"} />\r\n                    </div>\r\n\r\n                    <div className='col-12 col-md-10 mx-auto p-2'>\r\n                        {\r\n                            (isAnfitrion)\r\n                                ?\r\n                                <>\r\n                                    <button onClick={HandleSaveBoard} className='btn btn-primary mx-1'>Guardar</button>\r\n                                    <button onClick={HandleBorraBoard} className='btn btn-danger mx-1'>Borrar</button>\r\n                                    <button onClick={HandleClickDowload} className='btn btn-success mx-1'>Imprimir</button>\r\n                                    <button onClick={FinalizarRoom} className='btn btn-dark mx-1'>Finalizar reunion</button>\r\n                                </>\r\n                                : <button onClick={HandleClickDowload} className='btn btn-success mx-1'>Imprimir</button>\r\n                        }\r\n                    </div>\r\n\r\n                </section>\r\n\r\n                <Modal type={typeModal} DrawDiagram={DrawDiagram} setSourceRel={setSourceRel} sourceRel={sourceRel} setsourceDiagram={setsourceDiagram} />\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default BoardPage\r\n","import { useCallback, useContext, useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router';\r\nimport { apiDiagrama } from '../api/apiDiagrama';\r\nimport { authContext } from '../context/authContext';\r\n\r\nexport const useSala = (InitialState = null) => {\r\n\r\n    const { auth } = useContext(authContext);\r\n    const [sala, setSala] = useState(InitialState);\r\n    const [isAnfitrion, setisAnfitrion] = useState(false);\r\n    const [error, seterror] = useState(\"\");\r\n    const [validate, setvalidate] = useState(true);\r\n\r\n    const { idsala } = useParams();\r\n\r\n    const getSala = useCallback(async () => {\r\n\r\n        const res = await apiDiagrama(`/sala/getOne/${idsala}`);\r\n\r\n        if (!res.ok) {\r\n            setvalidate(false);\r\n            seterror(\"El id es invalido!!!\");\r\n            return;\r\n        }\r\n\r\n        setvalidate(false);\r\n\r\n        const { data } = res;\r\n        const { anfitrion, usuarios, active } = data;\r\n\r\n        if (!active) {\r\n            seterror(\"La sala no esta activa!!!\");\r\n            return;\r\n        }\r\n\r\n        if (anfitrion === auth.id) {\r\n            setSala(data)\r\n            setisAnfitrion(true);\r\n            return;\r\n        }\r\n\r\n        const result = usuarios.find((elemet) => elemet === auth.id);\r\n\r\n        if (result === undefined) {\r\n            seterror(\"No tiene permiso del anfitrion!!!\");\r\n            return;\r\n        }\r\n        seterror(\"\");\r\n        setSala(data);\r\n\r\n    }, [auth.id, idsala]);\r\n\r\n    useEffect(() => {\r\n\r\n        getSala();\r\n\r\n    }, [getSala]);\r\n\r\n    return {\r\n        sala,\r\n        error,\r\n        auth,\r\n        isAnfitrion,\r\n        validate\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { apiDiagrama } from '../../api/apiDiagrama';\r\nimport { useForm } from '../../hooks/useForm'\r\n\r\nexport const CreateSala = (props) => {\r\n\r\n    const { agregar, idUser: anfitrion } = props;\r\n\r\n    const { value, HandleInputChange, reset } = useForm({\r\n        name: \"\"\r\n    });\r\n\r\n    const { name } = value;\r\n\r\n    const HandleCreateSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        let res = await apiDiagrama(\"/sala/create\", \"POST\", { anfitrion, name });\r\n        if (!res.ok) {\r\n            console.log(`Error al crear la sala:${res.message}`);\r\n            return;\r\n        }\r\n        agregar(res.data);\r\n        reset();\r\n    }\r\n\r\n\r\n    return (\r\n        <div className='border rounded my-1 bg-white shadow p-2'>\r\n\r\n            <h5 className='text-center'>Crear una Sala</h5>\r\n\r\n            <form\r\n                className='container-fluid row  m-0'\r\n                onSubmit={HandleCreateSubmit}\r\n            >\r\n                <div className='col-md-10 mx-auto my-1'>\r\n                    <input\r\n                        name=\"name\"\r\n                        value={name}\r\n                        onChange={HandleInputChange}\r\n                        type='text'\r\n                        placeholder='name'\r\n                        className='form-control'\r\n                    />\r\n                </div>\r\n                <div className='col-md-10 mx-auto my-2'>\r\n                    <button className='btn btn-primary'>crear</button>\r\n                </div>\r\n            </form>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { apiDiagrama } from '../../api/apiDiagrama';\r\n\r\nconst List = (props) => {\r\n\r\n    const { data, eliminar, idUser: anfitrion, update } = props;\r\n\r\n    const HandleClickEliminar = async (idSala) => {\r\n        const res = await apiDiagrama(`/sala/delete/${idSala}`, \"DELETE\", { anfitrion });\r\n        if (!res.ok) {\r\n            console.warn(\"Error al eliminar la sala:\" + res.message);\r\n            return;\r\n        }\r\n        eliminar(idSala);\r\n    }\r\n\r\n    const HandleActiveSala = async (idSala) => {\r\n\r\n        await apiDiagrama(`/sala/active/${idSala}`, \"PUT\", { anfitrion, active: true });\r\n        update(idSala, { active: true });\r\n\r\n    }\r\n\r\n    return (\r\n        <div className='col-md-9 p-1 section overflow-auto'>\r\n            <div className='container-fluid'>\r\n                <table className='text-black-50 table table-striped text-center text-white'>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>id</th>\r\n                            <th>name</th>\r\n                            <th>estado</th>\r\n                            <th>eliminar</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n\r\n                        {\r\n                            data.map((sala) => (\r\n                                <tr key={sala._id}>\r\n                                    <th>{sala._id}</th>\r\n                                    <th>{sala.name}</th>\r\n                                    {\r\n                                        sala.active\r\n                                            ? <th><Link to={`/board/${sala._id}`} className='btn btn-success'>ir a sala</Link></th>\r\n                                            : <th><button onClick={(e) => HandleActiveSala(sala._id)} className='btn btn-primary'>activate</button></th>\r\n                                    }\r\n                                    <th>\r\n                                        <button onClick={(e) => HandleClickEliminar(sala._id)} className='btn btn-danger'>eliminar</button>\r\n                                    </th>\r\n                                </tr>\r\n\r\n                            ))\r\n                        }\r\n\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default List\r\n","import React, { useCallback, useContext, useEffect } from 'react'\r\nimport { authContext } from '../../context/authContext';\r\nimport socketContext from '../../context/socketContext';\r\nimport { useLoadSala } from '../../hooks/useLoadSala';\r\nimport { CreateSala } from './CreateSala';\r\nimport List from './List';\r\nimport { useForm } from '../../hooks/useForm';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { apiDiagrama } from '../../api/apiDiagrama';\r\n\r\nconst HomePage = () => {\r\n\r\n    const history = useHistory();\r\n    const { online, socket } = useContext(socketContext);\r\n    const { auth, logout } = useContext(authContext);\r\n    const { id } = auth;\r\n    const { salas, agregar, eliminar, update } = useLoadSala(id);\r\n\r\n    const { value, HandleInputChange } = useForm({\r\n        idSala: \"\"\r\n    });\r\n\r\n    const { idSala } = value;\r\n\r\n    const HandleLogout = () => {\r\n        logout();\r\n    }\r\n\r\n    const SetUserSala = useCallback(async (idSala) => {\r\n\r\n        const res = await apiDiagrama(`/sala/setUsuario/${idSala}`, \"PUT\", { idUser: id });\r\n\r\n        if (!res.ok) {\r\n            console.log(\"Error al agregar el usuario\");\r\n            return;\r\n        }\r\n\r\n        history.replace(`/board/${idSala}`);\r\n\r\n    }, [history, id]);\r\n\r\n    const HandleSolicitudSala = (e) => {\r\n        e.preventDefault();\r\n        socket.emit('solicitud-sala', { idSala, nameUser: auth.name, idUser: id });\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        socket.on('respuesta-solicitud', (args) => {\r\n\r\n            const { active, denegado, idSala } = args;\r\n\r\n            if (!active) {\r\n                alert(\"La sala no esta activa!!!\");\r\n                return;\r\n            }\r\n\r\n            if (denegado) {\r\n                alert(\"El anfitrion a denegado la solicitud!!!\");\r\n                return;\r\n            }\r\n\r\n            SetUserSala(idSala);\r\n        })\r\n\r\n        return () => {\r\n            socket.removeAllListeners(\"respuesta-solicitud\");\r\n        }\r\n\r\n    }, [socket,SetUserSala]);\r\n\r\n\r\n\r\n\r\n    return (\r\n\r\n        <div className='vh100 bg-content'>\r\n\r\n            <header className='bg-dark text-white container-fluid'>\r\n                <div className='row p-1'>\r\n                    <div className='col-md-11'>\r\n                        <h1 className='my-1  text-center'>C4 Diagramas</h1>\r\n                    </div>\r\n                    <div className='col-md-1 text-center justify-content-center d-flex align-items-center'>\r\n                        <p onClick={HandleLogout} className='text-white-50 pointer'>logout</p>\r\n                    </div>\r\n                </div>\r\n            </header>\r\n\r\n            {\r\n                online\r\n                    ? <small className='text-center d-block text-primary'>online</small>\r\n                    : <small className='text-center d-block text-danger'>offline</small>\r\n            }\r\n\r\n\r\n            <section className='container-fluid mt-2'>\r\n\r\n                <div className='row'>\r\n\r\n                    <List data={salas} eliminar={eliminar} idUser={id} update={update} />\r\n\r\n                    <div className='col-md-3 p-1 justify-content-start d-flex flex-column '>\r\n\r\n                        <div className='border rounded my-1 bg-white shadow p-2'>\r\n\r\n                            <h5 className='text-center'>Unirse a Sala</h5>\r\n\r\n                            <form\r\n                                className='container-fluid row  m-0'\r\n                                onSubmit={HandleSolicitudSala}\r\n                            >\r\n                                <div className='col-md-10 mx-auto my-1'>\r\n                                    <input\r\n                                        type='text'\r\n                                        name={\"idSala\"}\r\n                                        onChange={HandleInputChange}\r\n                                        value={idSala}\r\n                                        placeholder='idSala'\r\n                                        className='form-control'\r\n                                    />\r\n                                </div>\r\n                                <div className='col-md-10 mx-auto my-2'>\r\n                                    <button className='btn btn-primary'>solicitar</button>\r\n                                </div>\r\n                            </form>\r\n\r\n                        </div>\r\n\r\n                        <CreateSala agregar={agregar} idUser={id} />\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </section>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default HomePage\r\n","import { useEffect, useState } from \"react\";\r\nimport { apiDiagrama } from \"../api/apiDiagrama\";\r\n\r\n\r\nexport const useLoadSala = (idUser) => {\r\n\r\n    const [salas, setsalas] = useState([]);\r\n\r\n    const LoadSala = async () => {\r\n        let res = await apiDiagrama(`/sala/list/${idUser}`);\r\n        if (!res.ok) {\r\n            console.warn(res.message);\r\n        }\r\n        setsalas(res.data);\r\n    }\r\n\r\n    const agregar = (sala) => {\r\n        setsalas([...salas, sala]);\r\n    }\r\n\r\n    const eliminar = (idSala) => {\r\n        let salasFiltradas = salas.filter((sala) => (sala._id !== idSala));\r\n        setsalas(salasFiltradas);\r\n    }\r\n\r\n    const update = (idSala, update) => {\r\n\r\n        let salasUpdated = salas.map((sala) => {\r\n            if (sala._id === idSala) {\r\n                return { ...sala, ...update }\r\n            }\r\n            return sala;\r\n        });\r\n\r\n        setsalas(salasUpdated);\r\n    }\r\n\r\n    useEffect(() => {\r\n        LoadSala();\r\n    }, []);\r\n\r\n    return {\r\n        salas,\r\n        agregar,\r\n        eliminar,\r\n        update\r\n    }\r\n}\r\n","import React from 'react'\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nconst PrivateRouter = ({\r\n    isAuthenticated,\r\n    component: Component,\r\n    ...rest\r\n}) => {\r\n    if (isAuthenticated) {\r\n        return <Route {...rest} component={Component} />\r\n    }\r\n    return <Redirect to='/login' />\r\n}\r\n\r\nexport default PrivateRouter\r\n","import React from 'react'\r\nimport { Redirect, Route } from 'react-router-dom';\r\n\r\nconst PublicRouter = ({\r\n    isAuthenticated,\r\n    component: Component,\r\n    ...rest\r\n}) => {\r\n\r\n    if (isAuthenticated) {\r\n        return <Redirect to='/' />\r\n    }\r\n\r\n    return <Route {...rest} component={Component} />\r\n}\r\n\r\nexport default PublicRouter\r\n","import React, { useCallback, useContext, useEffect, useState } from 'react'\r\n\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Redirect\r\n} from \"react-router-dom\";\r\nimport { apiDiagrama } from '../api/apiDiagrama';\r\nimport { authContext } from '../context/authContext';\r\nimport LoginPage from '../page/auth/LoginPage';\r\nimport RegisterPage from '../page/auth/RegisterPage';\r\nimport BoardPage from '../page/board/BoardPage';\r\nimport HomePage from '../page/home/HomePage';\r\nimport { types } from '../type/types';\r\nimport PrivateRouter from './PrivateRouter';\r\nimport PublicRouter from './PublicRouter';\r\n\r\nconst AppRouter = () => {\r\n\r\n    const { auth, dispatch } = useContext(authContext);\r\n    const { isAuthenticated } = auth;\r\n    const [validateToken, setvalidateToken] = useState(false);\r\n\r\n\r\n    const Validate = useCallback(async (token) => {\r\n\r\n        let { id } = JSON.parse(atob(token));\r\n\r\n        let res = await apiDiagrama(`/user/getOne/${id}`);\r\n\r\n        if (!res.ok) {\r\n            return;\r\n        }\r\n\r\n        const { name, email } = res.data;\r\n\r\n        dispatch({\r\n            type: types.authLogin,\r\n            payload: { id, name, email }\r\n        });\r\n\r\n    }, [dispatch]);\r\n\r\n    useEffect(() => {\r\n\r\n        let token = localStorage.getItem(\"keyID\") || null;\r\n\r\n        if (token) {\r\n            Validate(token).then(() => {\r\n                setvalidateToken(true);\r\n            });\r\n\r\n            return;\r\n        }\r\n\r\n        setvalidateToken(true);\r\n\r\n    }, [Validate]);\r\n\r\n\r\n\r\n    if (!validateToken) {\r\n        return <h3 className='text-center'>Loading..</h3>\r\n    }\r\n\r\n    return (\r\n        <Router>\r\n            <div>\r\n                <Switch>\r\n\r\n                    <PrivateRouter exact path='/' component={HomePage} isAuthenticated={isAuthenticated} />\r\n                    <PrivateRouter exact path='/board/:idsala' component={BoardPage} isAuthenticated={isAuthenticated} />\r\n\r\n                    <PublicRouter exact path='/login' component={LoginPage} isAuthenticated={isAuthenticated} />\r\n                    <PublicRouter exact path='/register' component={RegisterPage} isAuthenticated={isAuthenticated} />\r\n\r\n\r\n                    <Redirect to=\"/login\" />\r\n\r\n                </Switch>\r\n            </div>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default AppRouter\r\n","import { AuthContextProvider } from \"./context/authContext\";\nimport { SocketContextProvider } from \"./context/socketContext\";\nimport AppRouter from \"./router/AppRouter\";\n\nconst App = () => {\n  return (\n    <AuthContextProvider>\n      <SocketContextProvider>\n        <AppRouter />\n      </SocketContextProvider>\n    </AuthContextProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './assets/css/index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle';\n\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}